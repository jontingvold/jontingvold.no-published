<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width"><title>All articles (Jon Tingvold)</title><meta name="description" content=""><link rel="preload" as="font" crossorigin href="/assets/style/default/fonts/Minion Pro/Minion Pro Regular.woff2"><link rel="preload" as="font" crossorigin href="/assets/style/default/fonts/Gill Sans/GillSans.woff2"><link rel="preload" as="font" crossorigin href="/assets/style/default/fonts/Minion Pro/Minion Pro Regular Italic.woff2"><link rel="preload" as="font" crossorigin href="/assets/style/default/fonts/Minion Pro/Minion Pro Semibold.woff2"> <script>performance.mark('css:block');</script><link rel="stylesheet" href="/assets/style/baseline.css?v=1.0.10"><link rel="stylesheet" href="/assets/style/default/style.css?v=1.0.5"><link rel="stylesheet" href="/assets/style/default/fonts/Gill Sans/gillsans.css?v=1.0.0"><link rel="stylesheet" href="/assets/style/default/fonts/Minion Pro/minionpro.css?v=1.0.0"><link rel="stylesheet" href="/assets/style/pygments-code-highlighter-github-theme.css?v=1.0.0"> <script>performance.mark('css:unblock');</script><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="shortcut icon" href="/favicon.ico"><meta name="msapplication-TileColor" content="#000000"><meta name="theme-color" content="#000000"><meta name="application-name" content="Jon Tingvold"><link rel="manifest" href="/site.webmanifest"><link rel="alternate" type="application/atom+xml" title="Jon Tingvold" href="/feed.atom.xml"><link rel="sitemap" type="application/xml" title="sitemap" href="/sitemap.xml" /></head><body><div id="body" class=""><div id="page"><nav id="breadcrumbs" class="hideprint"><div class="container"><div> <a href="/">jontingvold.no</a> <span class="divider">&nbsp;//&nbsp;</span> All articles</div></div></nav><div id="pagepage"><main role="main" class="container"><h1 lang="en">Unlisted articles</h1><h4 style="margin-bottom:0.325em;">feelings<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width"><title>Three formulas (Jon Tingvold)</title><meta name="description" content=""><link rel="preload" as="font" crossorigin href="/assets/style/default/fonts/Minion Pro/Minion Pro Regular.woff2"><link rel="preload" as="font" crossorigin href="/assets/style/default/fonts/Gill Sans/GillSans.woff2"><link rel="preload" as="font" crossorigin href="/assets/style/default/fonts/Minion Pro/Minion Pro Regular Italic.woff2"><link rel="preload" as="font" crossorigin href="/assets/style/default/fonts/Minion Pro/Minion Pro Semibold.woff2"> <script>performance.mark('css:block');</script><link rel="stylesheet" href="/assets/style/baseline.css?v=1.0.10"><link rel="stylesheet" href="/assets/style/default/style.css?v=1.0.5"><link rel="stylesheet" href="/assets/style/default/fonts/Gill Sans/gillsans.css?v=1.0.0"><link rel="stylesheet" href="/assets/style/default/fonts/Minion Pro/minionpro.css?v=1.0.0"><link rel="stylesheet" href="/assets/style/pygments-code-highlighter-github-theme.css?v=1.0.0"> <script>performance.mark('css:unblock');</script><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="shortcut icon" href="/favicon.ico"><meta name="msapplication-TileColor" content="#000000"><meta name="theme-color" content="#000000"><meta name="application-name" content="Jon Tingvold"><link rel="manifest" href="/site.webmanifest"><link rel="alternate" type="application/atom+xml" title="Jon Tingvold" href="/feed.atom.xml"><link rel="sitemap" type="application/xml" title="sitemap" href="/sitemap.xml" /></head><body><div id="body" class=" divide-paragraphs-by-idention"><div id="page"><nav id="breadcrumbs" class="hideprint"><div class="container"><div> <a href="/">jontingvold.no</a> <span class="divider">&nbsp;//&nbsp;</span> <a href="/articles/"> Articles</a> <span class="divider">&nbsp;//&nbsp;</span> Three formulas</div></div></nav><div id="pagepage"><main role="main" class="container"><h1>Three formulas</h1><figure class="zoomable image-drop-shadow"><div class="imagecontainer lazyload-not-loaded" style="padding-bottom: 70.72%; width:2104px;"> <img class="lazyload" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAAA5CAAAAACEgfPjAAAAAW9yTlQBz6J3mgAAAXBJREFUWIXt1stOwkAUBuC/MFVJU1u5KHhNxEsi0Z0v4Vv6AMatSze6EaMLjVGLiUkxIBpKAS29jQsiYMLIYLogZv5Vpzn90p7MpRJFtIlF7AlQgAIUoAD/F1h/iRgsahGAFOgdiJYCgH6PW8ArGyRD7x7thuoSarE0AKARB671D0W31tCuajfq7MMBTlfyY7yhRa2k+aiVYNxXgWIBMBbbl3KlceKtpwpE28d56yLgB8vLW+T9zJyOd4fGJpCSpQyN1fIJIL2XyaBJ5hjdosPjmpRW2t3rQ0pLJn2izRqjeDAscDDHHDW9cEybq43RNf1Io3+WLD1icLz8k81BgAL8meEbLICKTVLPO2VdDkAcpe7MSzRwnZxNfDvpEzstM55jL71b11ezBiGOHlL9LVyox/xwRi3DkxtKYpvl/Wkte0wNnD30gIB+9k6t3zx2D/vpeCW4ZPUuiU42N7Ka85PdKa4yfpA/kz+xBSjASQC/AO+2BfRGKEZRAAAAAElFTkSuQmCC" data-srcset=" /post-assets-resized-80/Equation1.png 80w, /post-assets-resized-730/Equation1.png 730w, /post-assets-resized-1460/Equation1.png 1460w, /post-assets-resized-1080/Equation1.png 1080w, /post-assets/2020-05-24-three-equations/Equation1.png 2104w" sizes="(min-width: 730px) 730px, 100vw" data-original="/post-assets-resized-1460/Equation1.png" alt="" /></div></figure><figure class="zoomable image-drop-shadow"><div class="imagecontainer lazyload-not-loaded" style="padding-bottom: 70.86%; width:2114px;"> <img class="lazyload" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAAA5CAAAAACEgfPjAAABKklEQVRYhe3Wy0rDQBQG4H+S2JRqEuMltHRV7cKFC8neFxB8PV/B9xCfwNqFFiuIF6wYW0lNm8x0XFgirbmAyaqcHyYwZ2Y+QggnYRLlRinZI5BAAgkkkMD0REL2ywTvzzoPV/FMDgqCPGwdH2n1eN4/zwO1zNXehXPqotkEXq+B1h72WTHw8mR5Pfe/gGXuCG8dZ6Fw9+LWioD/yCq82AQSSGBy+3ryGqryaQhhjze67cr02Vb14VYQVWZm9Fbn/MP2DTYy5bRq/j2c1G1kN1zzrPUv3+0c9sTBDTPGoV5j/o63PTB5MLQUcHMEbbeRcDdp7UuoP+M3M2V+XSwvJ+0ZqvMBgEsAAhKcQypxOSXZnwAACB61yUQqll/VxftmO287dWwCCVwN8BsZE1zko69MogAAAABJRU5ErkJggg==" data-srcset=" /post-assets-resized-80/Equation2.png 80w, /post-assets-resized-730/Equation2.png 730w, /post-assets-resized-1460/Equation2.png 1460w, /post-assets-resized-1080/Equation2.png 1080w, /post-assets/2020-05-24-three-equations/Equation2.png 2114w" sizes="(min-width: 730px) 730px, 100vw" data-original="/post-assets-resized-1460/Equation2.png" alt="" /></div></figure><figure class="zoomable image-drop-shadow"><div class="imagecontainer lazyload-not-loaded" style="padding-bottom: 70.77%; width:2114px;"> <img class="lazyload" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAAA5CAAAAACEgfPjAAAByElEQVRYhe2VS28TMRSFj8fjeeTVUaYJRQmNEHTDo0iIDT+AH8ySH8AGBLsi8YzUVp0Q0mQShrFnPB6zaNnhSVJlgdCclS35fNfX0j0mGruVtWNeDayBNbAG1sB/AajkBv/FFsDidfTqepmYTxFz0XGPNJYLpxlcbS/fvRA+ACynJH5mdNnmWmPH//bgjd0PzuWhWAGPJ4gB9D7IowOzqwJ4N3z5PB4JCmjkoltabUg2Z3aHBb7ZVdEyAEgGyQB83Yt/DKPjk0efvfuVhnXAP8qQhHMdcj9W4U6Am6viDYGfVkHLRk5dtegIlwdKEUIyqYObAtmildJzhoALejZIvKW7csNfpPKGO2/5/wqHGlgDr2UYPf4F+jAJE2d2i5C8NfdU1iqlcki6n8pV79O9Sb/7d6dp9C4n7el+c5Yxh9HJ04+lGNKItVbpkEZuFuY8Y6POVkCgsOMAKGzwLOA+isID+FVUx3nPmBDmtHk/GBee9AS5fWod2KcPL5pWpJ6c2LnW/SNz4qxNG5W215zYEritKgK2FGfzwfcuiTvWbE/cmcoGdwkfvR0pcXzDlnNFJaVasoJoGwQk9qhbQouKV6gTuwbWwE30G4hLr+Lequ9+AAAAAElFTkSuQmCC" data-srcset=" /post-assets-resized-80/Equation3.png 80w, /post-assets-resized-730/Equation3.png 730w, /post-assets-resized-1460/Equation3.png 1460w, /post-assets-resized-1080/Equation3.png 1080w, /post-assets/2020-05-24-three-equations/Equation3.png 2114w" sizes="(min-width: 730px) 730px, 100vw" data-original="/post-assets-resized-1460/Equation3.png" alt="" /></div></figure><div class="copyrightnotice"> <span class="only-print">Source: <a href="https://www.jontingvold.no/articles/three-equations.html">https://www.jontingvold.no/articles/three-equations.html</a><br></span> &copy;2017&nbsp; Jon Tingvold, Norway. All rights reserved.<br> Last updated Jun 17, 2020</div></main></div></div></div></body><script>performance.mark('javascript:block');</script><style>#instantclick {display: none;}</style><script src="/assets/javascript/instantclick.min.js" data-no-instant></script> <script src="/assets/javascript/jquery.min.js" data-no-instant></script> <script src="/assets/javascript/bootstrap.min.js" data-no-instant></script> <script data-no-instant> function scrollIntoViewX(scrollingElement, elementTop, scrollerTop, scrollerBottom, evenIfVisible) { const offset = 100; /* px */ const animation_time = 150; /* ms */ const isVisible = (elementTop >= scrollerTop && elementTop <= (scrollerBottom - 100)); if (!isVisible || evenIfVisible) { $(scrollingElement).animate({ scrollTop: elementTop - offset }, animation_time); } } function scrollIntoView(scrollingElement, scrollToElement, evenIfVisible) { const elementTop = scrollToElement.offsetTop; const scrollerTop = scrollingElement.scrollTop; const scrollerBottom = scrollerTop + $(scrollingElement).innerHeight(); scrollIntoViewX(scrollingElement, elementTop, scrollerTop, scrollerBottom, evenIfVisible); } function scrollWindowIntoView(scrollToElement, evenIfVisible) { const elementTop = scrollToElement.offsetTop; const scrollerTop = window.scrollY; const scrollerBottom = scrollerTop + window.innerHeight; scrollIntoViewX('html, body', elementTop, scrollerTop, scrollerBottom, evenIfVisible); } function enhanceAnchorLinks() { $(document).ready(function() { $("#toc a[href^='#']").click(function (event) { const idWithHash = $(this).attr('href'); const scrollToElement = document.getElementById(idWithHash.substring(1)); scrollWindowIntoView(scrollToElement, true); event.stopPropagation(); return false; }); }); } InstantClick.on('change', () => { $('body').scrollspy({ target: '#toc', offset: 130 }); enhanceAnchorLinks(); }); /* DISABLED: BFCACHE AND SCROLL POSITION RESTORATION DOES NOT WORK WITH SCROLLABLE DIVS $('#toc').on('activate.bs.scrollspy', function (event) { scrollIntoView(document.querySelector("#toc .nav"), event.target, false); }); */ </script> <script src="/assets/javascript/lozad.min.js" data-no-instant></script><style> @media screen { .imagecontainer.lazyload-not-loaded img { opacity: 0; } .imagecontainer img { opacity:1; transition: opacity 0.15s linear } } /* .imagecontainer.makeblurry {overflow:hidden; } .imagecontainer.overflow-hidden img {} .imagecontainer.makeblurry img {filter: blur(15px);transform: scale(1.05);} .imagecontainer img {} .imagecontainer img {transition: filter 0.1s linear, transform 0.4s linear;}*/</style><script> const observer = lozad('.lazyload', { rootMargin: '200px', threshold: 0.1, loaded: function(el) { /*el.src = el.getAttribute('data-original'); /* Preper for zooming */ el.parentElement.classList.remove('lazyload-not-loaded'); } }); window.addEventListener("beforeprint", (event) => { let elements = document.querySelectorAll('.lazyload'); elements.forEach(element => {observer.triggerLoad(element);}); }); InstantClick.on('change', () => { observer.observe(); }); </script> <script src="/assets/javascript/zooming.min.js" data-no-instant></script> <script> /* https://github.com/kingdido999/zooming */ if (window.innerWidth > 1000) { var zooming = new Zooming({ enableGrab: false, bgOpacity: 1.0, bgColor: "rgb(255, 255, 255)", transitionDuration: 0.2, scaleBase: 0.8, onBeforeOpen: function() { imageContainers = document.querySelectorAll('figure.zoomable .imagecontainer'); imageContainers.forEach(imageContainer => {imageContainer.style.overflow = "visable"}); images = document.querySelectorAll('figure.zoomable img'); images.forEach(image => {image.src = ""}); } }).listen('img.zoomable, figure.zoomable img'); } </script> <script data-no-instant>InstantClick.init();</script> <script>performance.mark('javascript:unblock');</script><script type="text/javascript" data-no-instant> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','https://www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-9010257-2', 'auto'); ga('send', 'pageview'); // Track JS performance if (window.performance) { var timeSincePageLoad_ms = performance.now() var timeSincePageLoad_ms_int = Math.round(timeSincePageLoad_ms) ga('send', 'timing', 'JS Dependencies', 'load', timeSincePageLoad_ms_int); } // Track page views with InstantClick SinglePageApplication InstantClick.on('change', function() { ga('send', 'pageview', location.pathname + location.search); }); </script> <script> var redirectTime = performance.timing.redirectEnd - performance.timing.redirectStart; var dnsLookupTime = performance.timing.domainLookupEnd - performance.timing.domainLookupStart; var tcpConnectTime = performance.timing.connectEnd - performance.timing.connectStart; var connectTime = performance.timing.responseEnd - performance.timing.requestStart; var renderTime = performance.timing.domComplete - performance.timing.domLoading; var totalPageLoadTime = performance.timing.loadEventEnd - performance.timing.navigationStart; ga('send', 'timing', 'Redirect time', 'Redirect', redirectTime); ga('send', 'timing', 'DNS lookup time', 'unblock', dnsLookupTime); ga('send', 'timing', 'TCP connect time', 'unblock', tcpConnectTime); ga('send', 'timing', 'Rendering time', 'unblock', renderTime); ga('send', 'timing', 'Total page load time', 'unblock', totalPageLoadTime); if (performance.getEntriesByName("first-paint").length > 0) { const firstPaintTime = performance.getEntriesByName("first-paint")[0].startTime; ga('send', 'timing', 'First paint time', 'unblock', firstPaintTime); } if (performance.getEntriesByName("first-paint").length > 0) { const firstPaintTime = performance.getEntriesByName("first-paint")[0].startTime; ga('send', 'timing', 'First paint time', 'unblock', firstPaintTime); } if (performance.getEntriesByName("first-contentful-paint").length > 0) { const firstContentfulPaintTime = performance.getEntriesByName("first-contentful-paint")[0].startTime; ga('send', 'timing', 'First contentful paint time', 'unblock', firstContentfulPaintTime); } //ga('send', 'timing', 'CSS', 'start-block', performance.measure("css-rendering-time", 'css:block').startTime); ga('send', 'timing', 'CSS', 'blocked', performance.measure("css-rendering-time", 'css:block', 'css:unblock').duration); //ga('send', 'timing', 'Javascript', 'blocked', performance.measure("javascript-rendering-time", 'javascript:block').startTime); ga('send', 'timing', 'Javascript', 'blocked', performance.measure("javascript-rendering-time", 'javascript:block', 'javascript:unblock').duration); </script></html><!DOCTYPE html><html lang="nb-no"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width"><title>Følelsen av pudder (Jon Tingvold)</title><meta name="description" content=""><link rel="preload" as="font" crossorigin href="/assets/style/default/fonts/Minion Pro/Minion Pro Regular.woff2"><link rel="preload" as="font" crossorigin href="/assets/style/default/fonts/Gill Sans/GillSans.woff2"><link rel="preload" as="font" crossorigin href="/assets/style/default/fonts/Minion Pro/Minion Pro Regular Italic.woff2"><link rel="preload" as="font" crossorigin href="/assets/style/default/fonts/Minion Pro/Minion Pro Semibold.woff2"> <script>performance.mark('css:block');</script><link rel="stylesheet" href="/assets/style/baseline.css?v=1.0.10"><link rel="stylesheet" href="/assets/style/default/style.css?v=1.0.5"><link rel="stylesheet" href="/assets/style/default/fonts/Gill Sans/gillsans.css?v=1.0.0"><link rel="stylesheet" href="/assets/style/default/fonts/Minion Pro/minionpro.css?v=1.0.0"><link rel="stylesheet" href="/assets/style/pygments-code-highlighter-github-theme.css?v=1.0.0"> <script>performance.mark('css:unblock');</script><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="shortcut icon" href="/favicon.ico"><meta name="msapplication-TileColor" content="#000000"><meta name="theme-color" content="#000000"><meta name="application-name" content="Jon Tingvold"><link rel="manifest" href="/site.webmanifest"><link rel="alternate" type="application/atom+xml" title="Jon Tingvold" href="/feed.atom.xml"><link rel="sitemap" type="application/xml" title="sitemap" href="/sitemap.xml" /></head><body><div id="body" class=""><div id="page"><nav id="breadcrumbs" class="hideprint"><div class="container"><div> <a href="/">jontingvold.no</a> <span class="divider">&nbsp;//&nbsp;</span> <a href="/articles/"> Articles</a> <span class="divider">&nbsp;//&nbsp;</span> Følelsen av pudder</div></div></nav><div id="pagepage"><main role="main" class="container"><h1>Følelsen av pudder</h1><figure class="zoomable"><div class="imagecontainer lazyload-not-loaded" style="padding-bottom: 80.18%; width:2215px;"> <img class="lazyload" src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEBLAEsAAD/2wBDAA0JCgsKCA0LCgsODg0PEyAVExISEyccHhcgLikxMC4pLSwzOko+MzZGNywtQFdBRkxOUlNSMj5aYVpQYEpRUk//2wBDAQ4ODhMREyYVFSZPNS01T09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0//wAARCABAAFADAREAAhEBAxEB/8QAGwAAAgMBAQEAAAAAAAAAAAAAAgMEBQEGAAf/xAAxEAACAQMDAgQDBwUAAAAAAAABAgMABBESMWEhBRMiQVEGcaEyQlKBkbHhFDNikrL/xAAYAQADAQEAAAAAAAAAAAAAAAABAAIDBP/EAB8RAAICAgMBAQEAAAAAAAAAAAABEQISAyFBMQRRYf/aAAwDAQACEQMRAD8Aka4xHh0ycV1Q5OPJRyQpWU/YUDHoRWiRk7fhGYZ+7j5VaRm2BIEdMaAD7gUpNAs00RTCfStJMcQDGR6USeQTGRuKQ8g6KRkzTQGTNNIZOraE1zydkCmh4oyTAtoOKMggU0HFVJOIswcUZJxAMFMgxPLCg+2uaW30FKvYxO2mZNcYJXO1ZvbjwzSvzqylFinYIzGD01Vg/ocnQvlrBBuuytGxKny8VrX6JMr/AC/hfmDis8jXEAwcUcgYizb8UcicQDb8UcgYizbcUcgYgG24pyBiAbbijkDAm2A8PCY6Vz7eeTq08KC1UdNsVgdAuSHUDkUpjBlxPHDIE8OWTIzlFBH1O9WmZYkc3M/hCQ2Ey5bAQjqR7+wqp/oMQLi9S3hDzJGr7mNpRkD8getKbfguqXpAfuF1Pc+JYWxaBVGpJMD61S4XLJiXwS2uJ0IE1kqGQgR5nXqef4zQyDgFNPFbDTOEab8Eb5x8yQMUE2/A4VXpWS97EUrarAtHkacSYPOelaKra9IeK6H2Hdre6nWNImVzsG6VF0+y6NdF6txH0UkavasYNpGFumd6AQYbmLwQ65wo3A3pAQ7vu0bowguIgw9GNUqvsl2Ryt7KHvGYaVb8Sb5roquDCz5FNc+XTG0ijYnUfNRgEhv368TUrCPLLoabHnx889PypWpC9rRHS4bwBKbhGJJGn7w5NVCmCVZxImeVltJLtWBRJFRlPTcenudqytsxcG+vUtiLDtVvdXbarSDWPVyDj9aq9kvTOlWdhZ9u8GPz9XO5rmdpOlImf0/lwTQkJwd33aeeQa8FFGkIpIUCumtEjmd2VruoOoZB/erIDwuQ2CQdsmmQwadOC3lGNuaEjiQZnZn06wMdatMzsjbW1lu7kW9swMrbBjgU3sqqQ66tuDtu1/BdrE0M9/JJI64ZogcKTyK4rXdnJ2UrioOpAjSMRxRqiLsAMCpKMJpCCTSJ8rEqluhGeOtdhyQY8i6cMf8AY0AwBbxXly/h21vJN12RS2KW12KTLqz+Ee83WGn8O1X/ADbJx8h/FQ9iRSo2Xtl8E2EPmvZ5blvUDyL+g6/Woe19FrUuy+tLGzsU02drFD7lV6n5nc1m7N+lqqXg8tQCDnNITMUiZikSht/grt0f96e4l4BCr+2frWj2MzWtFla/D3Z7U5isIiw9ZMv/ANZqXZspVRZKAihUAVRsAMAVITc0iCTSIOaQgmkTAaRPZpEwnmkT/9k=" data-srcset=" /post-assets-resized-80/folelsen-av-pudder.jpg 80w, /post-assets-resized-730/folelsen-av-pudder.jpg 730w, /post-assets-resized-1460/folelsen-av-pudder.jpg 1460w, /post-assets-resized-2190/folelsen-av-pudder.jpg 2190w, /post-assets-resized-1080/folelsen-av-pudder.jpg 1080w, /post-assets/folelsen-av-pudder.jpg 2215w" sizes="(min-width: 730px) 730px, 100vw" data-original="/post-assets-resized-2190/folelsen-av-pudder.jpg" alt="" /></div></figure><p>De sier det er øyeblikkene. Men øyeblikkene kan bare legge seg. Det er følelsen! Følelsen av ski som gynger mot underlaget. Følelsen av mykhet. Følelsen av å presse snøen sammen i en sving, sprette opp og la overkroppen gynge fra side til side. Den ene skien fram, så den andre. Følelsen av flyt.</p><p>Egentlig burde jeg stoppet opp og nytt synet. Under meg ligger fjorden. Blå og klar. Et skip tusler av gårde innover. Rundt meg ligger fjellene. Spisse alpine fjell dekt i hvitt, med blå bakgrunn. Men øynene har mest lyst til å være lukket. Ikke får å kjenne sola som varmer mot øyenlokkene. Men for enda litt sterkere kunne nyte følelsen av pudder.</p><p><em>Jon Tingvold, februar 2010</em></p><div class="copyrightnotice"> <span class="only-print">Source: <a href="https://www.jontingvold.no/articles/foelelsen-av-pudder.html">https://www.jontingvold.no/articles/foelelsen-av-pudder.html</a><br></span> &copy;2010&nbsp; Jon Tingvold, Norway. All rights reserved.<br> Last updated Jun 5, 2020</div></main></div></div></div></body><script>performance.mark('javascript:block');</script><style>#instantclick {display: none;}</style><script src="/assets/javascript/instantclick.min.js" data-no-instant></script> <script src="/assets/javascript/jquery.min.js" data-no-instant></script> <script src="/assets/javascript/bootstrap.min.js" data-no-instant></script> <script data-no-instant> function scrollIntoViewX(scrollingElement, elementTop, scrollerTop, scrollerBottom, evenIfVisible) { const offset = 100; /* px */ const animation_time = 150; /* ms */ const isVisible = (elementTop >= scrollerTop && elementTop <= (scrollerBottom - 100)); if (!isVisible || evenIfVisible) { $(scrollingElement).animate({ scrollTop: elementTop - offset }, animation_time); } } function scrollIntoView(scrollingElement, scrollToElement, evenIfVisible) { const elementTop = scrollToElement.offsetTop; const scrollerTop = scrollingElement.scrollTop; const scrollerBottom = scrollerTop + $(scrollingElement).innerHeight(); scrollIntoViewX(scrollingElement, elementTop, scrollerTop, scrollerBottom, evenIfVisible); } function scrollWindowIntoView(scrollToElement, evenIfVisible) { const elementTop = scrollToElement.offsetTop; const scrollerTop = window.scrollY; const scrollerBottom = scrollerTop + window.innerHeight; scrollIntoViewX('html, body', elementTop, scrollerTop, scrollerBottom, evenIfVisible); } function enhanceAnchorLinks() { $(document).ready(function() { $("#toc a[href^='#']").click(function (event) { const idWithHash = $(this).attr('href'); const scrollToElement = document.getElementById(idWithHash.substring(1)); scrollWindowIntoView(scrollToElement, true); event.stopPropagation(); return false; }); }); } InstantClick.on('change', () => { $('body').scrollspy({ target: '#toc', offset: 130 }); enhanceAnchorLinks(); }); /* DISABLED: BFCACHE AND SCROLL POSITION RESTORATION DOES NOT WORK WITH SCROLLABLE DIVS $('#toc').on('activate.bs.scrollspy', function (event) { scrollIntoView(document.querySelector("#toc .nav"), event.target, false); }); */ </script> <script src="/assets/javascript/lozad.min.js" data-no-instant></script><style> @media screen { .imagecontainer.lazyload-not-loaded img { opacity: 0; } .imagecontainer img { opacity:1; transition: opacity 0.15s linear } } /* .imagecontainer.makeblurry {overflow:hidden; } .imagecontainer.overflow-hidden img {} .imagecontainer.makeblurry img {filter: blur(15px);transform: scale(1.05);} .imagecontainer img {} .imagecontainer img {transition: filter 0.1s linear, transform 0.4s linear;}*/</style><script> const observer = lozad('.lazyload', { rootMargin: '200px', threshold: 0.1, loaded: function(el) { /*el.src = el.getAttribute('data-original'); /* Preper for zooming */ el.parentElement.classList.remove('lazyload-not-loaded'); } }); window.addEventListener("beforeprint", (event) => { let elements = document.querySelectorAll('.lazyload'); elements.forEach(element => {observer.triggerLoad(element);}); }); InstantClick.on('change', () => { observer.observe(); }); </script> <script src="/assets/javascript/zooming.min.js" data-no-instant></script> <script> /* https://github.com/kingdido999/zooming */ if (window.innerWidth > 1000) { var zooming = new Zooming({ enableGrab: false, bgOpacity: 1.0, bgColor: "rgb(255, 255, 255)", transitionDuration: 0.2, scaleBase: 0.8, onBeforeOpen: function() { imageContainers = document.querySelectorAll('figure.zoomable .imagecontainer'); imageContainers.forEach(imageContainer => {imageContainer.style.overflow = "visable"}); images = document.querySelectorAll('figure.zoomable img'); images.forEach(image => {image.src = ""}); } }).listen('img.zoomable, figure.zoomable img'); } </script> <script data-no-instant>InstantClick.init();</script> <script>performance.mark('javascript:unblock');</script><script type="text/javascript" data-no-instant> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','https://www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-9010257-2', 'auto'); ga('send', 'pageview'); // Track JS performance if (window.performance) { var timeSincePageLoad_ms = performance.now() var timeSincePageLoad_ms_int = Math.round(timeSincePageLoad_ms) ga('send', 'timing', 'JS Dependencies', 'load', timeSincePageLoad_ms_int); } // Track page views with InstantClick SinglePageApplication InstantClick.on('change', function() { ga('send', 'pageview', location.pathname + location.search); }); </script> <script> var redirectTime = performance.timing.redirectEnd - performance.timing.redirectStart; var dnsLookupTime = performance.timing.domainLookupEnd - performance.timing.domainLookupStart; var tcpConnectTime = performance.timing.connectEnd - performance.timing.connectStart; var connectTime = performance.timing.responseEnd - performance.timing.requestStart; var renderTime = performance.timing.domComplete - performance.timing.domLoading; var totalPageLoadTime = performance.timing.loadEventEnd - performance.timing.navigationStart; ga('send', 'timing', 'Redirect time', 'Redirect', redirectTime); ga('send', 'timing', 'DNS lookup time', 'unblock', dnsLookupTime); ga('send', 'timing', 'TCP connect time', 'unblock', tcpConnectTime); ga('send', 'timing', 'Rendering time', 'unblock', renderTime); ga('send', 'timing', 'Total page load time', 'unblock', totalPageLoadTime); if (performance.getEntriesByName("first-paint").length > 0) { const firstPaintTime = performance.getEntriesByName("first-paint")[0].startTime; ga('send', 'timing', 'First paint time', 'unblock', firstPaintTime); } if (performance.getEntriesByName("first-paint").length > 0) { const firstPaintTime = performance.getEntriesByName("first-paint")[0].startTime; ga('send', 'timing', 'First paint time', 'unblock', firstPaintTime); } if (performance.getEntriesByName("first-contentful-paint").length > 0) { const firstContentfulPaintTime = performance.getEntriesByName("first-contentful-paint")[0].startTime; ga('send', 'timing', 'First contentful paint time', 'unblock', firstContentfulPaintTime); } //ga('send', 'timing', 'CSS', 'start-block', performance.measure("css-rendering-time", 'css:block').startTime); ga('send', 'timing', 'CSS', 'blocked', performance.measure("css-rendering-time", 'css:block', 'css:unblock').duration); //ga('send', 'timing', 'Javascript', 'blocked', performance.measure("javascript-rendering-time", 'javascript:block').startTime); ga('send', 'timing', 'Javascript', 'blocked', performance.measure("javascript-rendering-time", 'javascript:block', 'javascript:unblock').duration); </script></html><!DOCTYPE html><html lang="nb-no"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width"><title>Elvepadling (Jon Tingvold)</title><meta name="description" content=""><link rel="preload" as="font" crossorigin href="/assets/style/default/fonts/Minion Pro/Minion Pro Regular.woff2"><link rel="preload" as="font" crossorigin href="/assets/style/default/fonts/Gill Sans/GillSans.woff2"><link rel="preload" as="font" crossorigin href="/assets/style/default/fonts/Minion Pro/Minion Pro Regular Italic.woff2"><link rel="preload" as="font" crossorigin href="/assets/style/default/fonts/Minion Pro/Minion Pro Semibold.woff2"> <script>performance.mark('css:block');</script><link rel="stylesheet" href="/assets/style/baseline.css?v=1.0.10"><link rel="stylesheet" href="/assets/style/default/style.css?v=1.0.5"><link rel="stylesheet" href="/assets/style/default/fonts/Gill Sans/gillsans.css?v=1.0.0"><link rel="stylesheet" href="/assets/style/default/fonts/Minion Pro/minionpro.css?v=1.0.0"><link rel="stylesheet" href="/assets/style/pygments-code-highlighter-github-theme.css?v=1.0.0"> <script>performance.mark('css:unblock');</script><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="shortcut icon" href="/favicon.ico"><meta name="msapplication-TileColor" content="#000000"><meta name="theme-color" content="#000000"><meta name="application-name" content="Jon Tingvold"><link rel="manifest" href="/site.webmanifest"><link rel="alternate" type="application/atom+xml" title="Jon Tingvold" href="/feed.atom.xml"><link rel="sitemap" type="application/xml" title="sitemap" href="/sitemap.xml" /></head><body><div id="body" class=""><div id="page"><nav id="breadcrumbs" class="hideprint"><div class="container"><div> <a href="/">jontingvold.no</a> <span class="divider">&nbsp;//&nbsp;</span> <a href="/articles/"> Articles</a> <span class="divider">&nbsp;//&nbsp;</span> Elvepadling</div></div></nav><div id="pagepage"><main role="main" class="container"><h1>Elvepadling</h1><figure class="zoomable"><div class="imagecontainer lazyload-not-loaded" style="padding-bottom: 66.42%; width:4288px;"> <img class="lazyload" src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEBLAEsAAD/2wBDAA0JCgsKCA0LCgsODg0PEyAVExISEyccHhcgLikxMC4pLSwzOko+MzZGNywtQFdBRkxOUlNSMj5aYVpQYEpRUk//2wBDAQ4ODhMREyYVFSZPNS01T09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0//wAARCAA1AFADASEAAhEBAxEB/8QAGgAAAgMBAQAAAAAAAAAAAAAAAwQCAAUBBv/EADIQAAIBAwIFAgMGBwAAAAAAAAECAxEABCESBTFBE1FhgZEiIxRSM0JicQYVY3Kx0eH/xAAZAQEBAQEBAQAAAAAAAAAAAAAAAQMCBAX/xAAgEQEAAwEAAgEFAAAAAAAAAAAAAQIRAyESEwQiMUFR/9oADAMBAAIRAxEAPwDwMOS6MGSZgR0r08XrQzHNXtRjc5/KrmvtcgTfhMkqjuYkxYci5an+biOCpyONsHklrDROHQUDLSnMxMTcDhygEqU9AIqWA1xchGOkRPUGgvr4uUwGm3StFcC4Atj5gB2tNpz+pS1mXMDN9R9x6E1qLvkCh4GFYdyYU6gLb0HA4i47bPWtQFb5va7geTE4vAaYuVK/9PIFae4shfjERDTY7Cv3WqPgdbToYH8029w4TMv70rfAnFJQSuGQvmoueVTjj4iu4nEoPbS5AZMn4sQBA05W8oiqSKNsi69KWCTHV3q8QqdNNbolAMSYlW3IaaV1HvZfs6Cihk16jSwu5oahHI9QxGtsd2UoKyv5rWthVzpoCAkigeTZ34rk7BVUdaa/NzPtbQIZ8vM7dToCWtSHi2cqv9rhGp0K1FPe9uVK32Jln0vauTELNxuXHdd8CujKdWHXpz5/8uplTyxARshDfmUVBPp4vz1vFvw3vztTPYIYrkklXr6g21jYZ3VZXpTmp1vpwbHDyylt20ep1uMONFKlUk3KCQTyssQYbBiEX06M3VSa1sAw9pJ2hVPMDS5sOvjv/DC8PjcEqOnmtjysGIxGFJGWVxQMorS0xsJXxaCuF/D8XYMeWDLQU3FaWODhU2LkMZJo5EJFPIF5Ry9Z2Hpv3i2xb9taKPoADT9NgyMtccbzFRfvMt62nIZceUdLZM4Rn4pKkZcY8pT720gXmZuZxAHGOMOylavsFSo9fheddtPl7unx8uf2FTxriDuUBlDDnpS2cTI4hJODLPoNSN1fjfMUnfKdPrKZlIPPxFgaVBP6bPgRzZsu/c6QqdWqfgL2h82Z16B5FjoiDcfU1sEvbkBqq7vS+kdiGwVJqTZaIdHG4etwSkyYoVO6umtLRm4jFJ+FCWPk6XRn5JlarxY8cbHmxbX42ExSOgDohDa8v9XAu+Gm4FD8x5qOQvfwczDWBI+4se0AEHS0ByMwuSY5Ff3uslK0ov7XR52XisqkpGgU1pUmtlafLEYk+0c+gQWEvqsQ7zOSaacrojVGbaWr5JrcAWY8utedi7j7yldAPFwGjWiF/lJHkWbt7oVcGlTSgF0AkBRqMQ2u0aUpcAzo7FJHX+1iLo//2Q==" data-srcset=" /post-assets-resized-80/elvepadling.jpg 80w, /post-assets-resized-730/elvepadling.jpg 730w, /post-assets-resized-1460/elvepadling.jpg 1460w, /post-assets-resized-2190/elvepadling.jpg 2190w, /post-assets-resized-1080/elvepadling.jpg 1080w, /post-assets/elvepadling.jpg 4288w" sizes="(min-width: 730px) 730px, 100vw" data-original="/post-assets-resized-2190/elvepadling.jpg" alt="" /></div><figcaption>Et rop om hjelp</figcaption></figure><p>Rolig, rolig, bli rolig! Kroppen vrir seg. Lungene vil ha luft. Kan ikke få panikk. Kan ikke få panikk. Panikken spiser mye oksygen. Jeg vet det. Oksygen er dyrbart nå. Må bli rolig. Har noen sett meg? Kroppen har lyst til å dra seg ut. Jeg prøver å trosse ubehaget. Alternativet er verre. Sakte kjenner jeg kroppen aksepterer sin tilstand. Jeg løfter armene. Et rop om hjelp. Kan ikke vite om noen svarer. Slår hendene mot kajakken. En gang. Ikke mer. Kan ikke bruke for mye luft. Var det noen i nærheten? Jeg husker ikke. Kanskje bør jeg bare gi opp. La kroppen trekke seg ut. Akseptere å bli gjennomvåt og at padledagen er over. Kroppen vil det. Venter. Vannet er kaldt. Kanskje 10 grader. Jeg kan kjenne det sildre inn i våtdrakten. Lungene er nesten tomme for luft. Venter. Hvor lang tid har gått? Prøver å se for meg verden der oppe. Det brusende vannet. Valsene. Her nede er alt så stille. Kanskje kjemper en eller annen seg i strykene mot meg. Jeg liker den tanken. Lungene er tomme nå. Er det noen der? Det må minst ha gått et halvt minutt. Føles sånn. Venter litt til. Munnen vil gape. Om enn bare for å trekke vann. Kommer det noen? Kanskje piner jeg meg selv for ingen nytte. Gir de fem sekunder til. Hvor er de? Hendene vil ned til spruttrekket. Kroppen prøver å redde seg selv. Men jeg kjemper imot. Lungene er over overtid. Tre sekunder til. To. Neonprenhanskene kjenner noe. En hard kant. Hvem har kommet? Finner ikke helt taket. Men så, jo! Drar meg opp. Endelig!</p><p><em>Jon Tingvold, oktober 2009</em></p><div class="copyrightnotice"> <span class="only-print">Source: <a href="https://www.jontingvold.no/articles/elvepadling.html">https://www.jontingvold.no/articles/elvepadling.html</a><br></span> &copy;2009&nbsp; Jon Tingvold, Norway. All rights reserved.<br> Last updated Jun 6, 2020</div></main></div></div></div></body><script>performance.mark('javascript:block');</script><style>#instantclick {display: none;}</style><script src="/assets/javascript/instantclick.min.js" data-no-instant></script> <script src="/assets/javascript/jquery.min.js" data-no-instant></script> <script src="/assets/javascript/bootstrap.min.js" data-no-instant></script> <script data-no-instant> function scrollIntoViewX(scrollingElement, elementTop, scrollerTop, scrollerBottom, evenIfVisible) { const offset = 100; /* px */ const animation_time = 150; /* ms */ const isVisible = (elementTop >= scrollerTop && elementTop <= (scrollerBottom - 100)); if (!isVisible || evenIfVisible) { $(scrollingElement).animate({ scrollTop: elementTop - offset }, animation_time); } } function scrollIntoView(scrollingElement, scrollToElement, evenIfVisible) { const elementTop = scrollToElement.offsetTop; const scrollerTop = scrollingElement.scrollTop; const scrollerBottom = scrollerTop + $(scrollingElement).innerHeight(); scrollIntoViewX(scrollingElement, elementTop, scrollerTop, scrollerBottom, evenIfVisible); } function scrollWindowIntoView(scrollToElement, evenIfVisible) { const elementTop = scrollToElement.offsetTop; const scrollerTop = window.scrollY; const scrollerBottom = scrollerTop + window.innerHeight; scrollIntoViewX('html, body', elementTop, scrollerTop, scrollerBottom, evenIfVisible); } function enhanceAnchorLinks() { $(document).ready(function() { $("#toc a[href^='#']").click(function (event) { const idWithHash = $(this).attr('href'); const scrollToElement = document.getElementById(idWithHash.substring(1)); scrollWindowIntoView(scrollToElement, true); event.stopPropagation(); return false; }); }); } InstantClick.on('change', () => { $('body').scrollspy({ target: '#toc', offset: 130 }); enhanceAnchorLinks(); }); /* DISABLED: BFCACHE AND SCROLL POSITION RESTORATION DOES NOT WORK WITH SCROLLABLE DIVS $('#toc').on('activate.bs.scrollspy', function (event) { scrollIntoView(document.querySelector("#toc .nav"), event.target, false); }); */ </script> <script src="/assets/javascript/lozad.min.js" data-no-instant></script><style> @media screen { .imagecontainer.lazyload-not-loaded img { opacity: 0; } .imagecontainer img { opacity:1; transition: opacity 0.15s linear } } /* .imagecontainer.makeblurry {overflow:hidden; } .imagecontainer.overflow-hidden img {} .imagecontainer.makeblurry img {filter: blur(15px);transform: scale(1.05);} .imagecontainer img {} .imagecontainer img {transition: filter 0.1s linear, transform 0.4s linear;}*/</style><script> const observer = lozad('.lazyload', { rootMargin: '200px', threshold: 0.1, loaded: function(el) { /*el.src = el.getAttribute('data-original'); /* Preper for zooming */ el.parentElement.classList.remove('lazyload-not-loaded'); } }); window.addEventListener("beforeprint", (event) => { let elements = document.querySelectorAll('.lazyload'); elements.forEach(element => {observer.triggerLoad(element);}); }); InstantClick.on('change', () => { observer.observe(); }); </script> <script src="/assets/javascript/zooming.min.js" data-no-instant></script> <script> /* https://github.com/kingdido999/zooming */ if (window.innerWidth > 1000) { var zooming = new Zooming({ enableGrab: false, bgOpacity: 1.0, bgColor: "rgb(255, 255, 255)", transitionDuration: 0.2, scaleBase: 0.8, onBeforeOpen: function() { imageContainers = document.querySelectorAll('figure.zoomable .imagecontainer'); imageContainers.forEach(imageContainer => {imageContainer.style.overflow = "visable"}); images = document.querySelectorAll('figure.zoomable img'); images.forEach(image => {image.src = ""}); } }).listen('img.zoomable, figure.zoomable img'); } </script> <script data-no-instant>InstantClick.init();</script> <script>performance.mark('javascript:unblock');</script><script type="text/javascript" data-no-instant> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','https://www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-9010257-2', 'auto'); ga('send', 'pageview'); // Track JS performance if (window.performance) { var timeSincePageLoad_ms = performance.now() var timeSincePageLoad_ms_int = Math.round(timeSincePageLoad_ms) ga('send', 'timing', 'JS Dependencies', 'load', timeSincePageLoad_ms_int); } // Track page views with InstantClick SinglePageApplication InstantClick.on('change', function() { ga('send', 'pageview', location.pathname + location.search); }); </script> <script> var redirectTime = performance.timing.redirectEnd - performance.timing.redirectStart; var dnsLookupTime = performance.timing.domainLookupEnd - performance.timing.domainLookupStart; var tcpConnectTime = performance.timing.connectEnd - performance.timing.connectStart; var connectTime = performance.timing.responseEnd - performance.timing.requestStart; var renderTime = performance.timing.domComplete - performance.timing.domLoading; var totalPageLoadTime = performance.timing.loadEventEnd - performance.timing.navigationStart; ga('send', 'timing', 'Redirect time', 'Redirect', redirectTime); ga('send', 'timing', 'DNS lookup time', 'unblock', dnsLookupTime); ga('send', 'timing', 'TCP connect time', 'unblock', tcpConnectTime); ga('send', 'timing', 'Rendering time', 'unblock', renderTime); ga('send', 'timing', 'Total page load time', 'unblock', totalPageLoadTime); if (performance.getEntriesByName("first-paint").length > 0) { const firstPaintTime = performance.getEntriesByName("first-paint")[0].startTime; ga('send', 'timing', 'First paint time', 'unblock', firstPaintTime); } if (performance.getEntriesByName("first-paint").length > 0) { const firstPaintTime = performance.getEntriesByName("first-paint")[0].startTime; ga('send', 'timing', 'First paint time', 'unblock', firstPaintTime); } if (performance.getEntriesByName("first-contentful-paint").length > 0) { const firstContentfulPaintTime = performance.getEntriesByName("first-contentful-paint")[0].startTime; ga('send', 'timing', 'First contentful paint time', 'unblock', firstContentfulPaintTime); } //ga('send', 'timing', 'CSS', 'start-block', performance.measure("css-rendering-time", 'css:block').startTime); ga('send', 'timing', 'CSS', 'blocked', performance.measure("css-rendering-time", 'css:block', 'css:unblock').duration); //ga('send', 'timing', 'Javascript', 'blocked', performance.measure("javascript-rendering-time", 'javascript:block').startTime); ga('send', 'timing', 'Javascript', 'blocked', performance.measure("javascript-rendering-time", 'javascript:block', 'javascript:unblock').duration); </script></html></h4><div> 2020, <span style="font-variant: all-small-caps; letter-spacing: -0.02em;">Mar</span>: <a href="/articles/hva-er-et-korona-liv-verdt.html" lang="nb-no">Hva er et korona-liv verdt? En økonomisk krise?</a> <span style="font-size:0.8em;color:#666;">(1744&nbsp;ord)</span></div><div> 2019, <span style="font-variant: all-small-caps; letter-spacing: -0.02em;">Nov</span>: <a href="/articles/test-of-lstm-for-hydrology.html" lang="en">Hydrological modeling with a simple LSTM network …</a> <span style="font-size:0.8em;color:#666;">(1900&nbsp;words)</span></div><div> 2018, <span style="font-variant: all-small-caps; letter-spacing: -0.02em;">Jun</span>: <a href="/articles/regulate-tech-and-set-markets-free.html" lang="en">Regulate tech and set markets free</a> <span style="font-size:0.8em;color:#666;">(1200&nbsp;words)</span></div><div> 2017, <span style="font-variant: all-small-caps; letter-spacing: -0.02em;">Jan</span>: <a href="/articles/three-equations.html" lang="en">Three formulas</a> <span style="font-size:0.8em;color:#666;">(30&nbsp;words)</span></div><div> 2015, <span style="font-variant: all-small-caps; letter-spacing: -0.02em;">Oct</span>: <a href="/articles/responsive-multicolumn-layout.html" lang="en">A responsive multi-column feasibility study</a> <span style="font-size:0.8em;color:#666;">(2400&nbsp;words)</span></div><div> 2010, <span style="font-variant: all-small-caps; letter-spacing: -0.02em;">Feb</span>: <a href="/articles/foelelsen-av-pudder.html" lang="nb-no">Følelsen av pudder</a> <span style="font-size:0.8em;color:#666;">(100&nbsp;ord)</span></div><div> 2009, <span style="font-variant: all-small-caps; letter-spacing: -0.02em;">Oct</span>: <a href="/articles/elvepadling.html" lang="nb-no">Elvepadling</a> <span style="font-size:0.8em;color:#666;">(300&nbsp;ord)</span></div><h4 style="margin-bottom:0.325em;">science<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width"><title>Hydrological modeling with a simple LSTM network of 30 units (Jon Tingvold)</title><meta name="description" content=""><link rel="preload" as="font" crossorigin href="/assets/style/default/fonts/Minion Pro/Minion Pro Regular.woff2"><link rel="preload" as="font" crossorigin href="/assets/style/default/fonts/Gill Sans/GillSans.woff2"><link rel="preload" as="font" crossorigin href="/assets/style/default/fonts/Minion Pro/Minion Pro Regular Italic.woff2"><link rel="preload" as="font" crossorigin href="/assets/style/default/fonts/Minion Pro/Minion Pro Semibold.woff2"> <script>performance.mark('css:block');</script><link rel="stylesheet" href="/assets/style/baseline.css?v=1.0.10"><link rel="stylesheet" href="/assets/style/default/style.css?v=1.0.5"><link rel="stylesheet" href="/assets/style/default/fonts/Gill Sans/gillsans.css?v=1.0.0"><link rel="stylesheet" href="/assets/style/default/fonts/Minion Pro/minionpro.css?v=1.0.0"><link rel="stylesheet" href="/assets/style/pygments-code-highlighter-github-theme.css?v=1.0.0"> <script>performance.mark('css:unblock');</script><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="shortcut icon" href="/favicon.ico"><meta name="msapplication-TileColor" content="#000000"><meta name="theme-color" content="#000000"><meta name="application-name" content="Jon Tingvold"><link rel="manifest" href="/site.webmanifest"><link rel="alternate" type="application/atom+xml" title="Jon Tingvold" href="/feed.atom.xml"><link rel="sitemap" type="application/xml" title="sitemap" href="/sitemap.xml" /></head><body><div id="body" class=" divide-paragraphs-by-idention"><div id="leftsidebar"><nav id="toc"><ul class="nav"><li class=" toc-h2"><a href="#abstract">Abstract</a></li><li class=" toc-h2"><a href="#1-introduction">1  Introduction</a></li><li class=" toc-h2"><a href="#2-method">2  Method</a><ul><li class=" toc-h3"><a href="#21-model">2.1  Model</a></li><li class=" toc-h3"><a href="#22-code">2.2  Code</a></li><li class=" toc-h3"><a href="#23-optimization">2.3  Optimization</a></li><li class=" toc-h3"><a href="#24-dataset">2.4  Dataset</a></li></ul></li><li class=" toc-h2"><a href="#3-results">3  Results</a><ul><li class=" toc-h3"><a href="#31-training-experience">3.1  Training experience</a></li><li class=" toc-h3"><a href="#32-r2nash-sutcliffe-efficiency">3.2  R2/Nash-Sutcliffe efficiency</a></li><li class=" toc-h3"><a href="#33-training-set">3.3  Training set</a></li><li class=" toc-h3"><a href="#34-validation-set">3.4  Validation set</a></li></ul></li><li class=" toc-h2"><a href="#4-discussion">4  Discussion</a></li><li class=" toc-h2"><a href="#5-conclusion">5  Conclusion</a></li><li class=" toc-h2"><a href="#references">References</a></li></ul></nav></div><div id="page"><nav id="breadcrumbs" class="hideprint"><div class="container"><div> <a href="/">jontingvold.no</a> <span class="divider">&nbsp;//&nbsp;</span> <a href="/articles/"> Articles</a> <span class="divider">&nbsp;//&nbsp;</span> Hydrological modeling with a simple LSTM network of 30 units</div></div></nav><div id="pagepage"><main role="main" class="container"><div class="kicker">Mini research</div><h1>Hydrological modeling with a simple LSTM network of 30 units</h1><h2 id="abstract">Abstract</h2><p>Are neural networks the future of hydrological modeling? Maybe. This simple <span class="allsmallcaps">LSTM</span> is in many ways a poor model; yet, it performs remarkably well. On the small 15-year dataset included, it archives a Nash–Sutcliffe efficiency/<span class="allsmallcaps">R2</span> of 0.74 on the 3-year validation part (where 0.00 is the trivial mean prediction and 1.00 is perfect prediction). On the same validation set, my own <span class="allsmallcaps">HBV</span> implementation, <a href="https://github.com/jontingvold/swift-hbv">Swift<span class="allsmallcaps">HBV</span></a>, archives 0.78. It still much left to beat <span class="allsmallcaps">HBV</span>, especially its robustness. However, <span class="allsmallcaps">LSTM</span> was never designed for numerical predictions. Its range contrained units and non-conserved water flow, makes it unnecessary hard to learn hydrological behavior. A special designed <span class="allsmallcaps">RNN</span> architecture might perform a lot better.</p><h2 id="1-introduction">1  Introduction</h2><p>There have been some papers out there that have tried to model rainfall-runoff and sometimes snow storage with <span class="allsmallcaps">LSTM</span> neural networks. For instance Kratzert et al. (2018)<sup id="fnref:1" role="doc-noteref"><a href="#fn:1" class="footnote">1</a></sup> who archives a median Nash–Sutcliffe efficiency/<span class="allsmallcaps">R2</span> of 0.65 on 250 catchments in the US, -0.03 less than a traditional <span class="allsmallcaps">SAC</span>-<span class="allsmallcaps">SMA</span>+<span class="allsmallcaps">SNOW</span>17 model. The results seem good, but not jet as good as old fashion models, like <span class="allsmallcaps">SAC</span>-<span class="allsmallcaps">SMA</span>+<span class="allsmallcaps">SNOW</span>17 or <span class="allsmallcaps">HBV</span>, which also are more robust.</p><p>This was a quick model I through together to see for myself how good these models perform compare to <span class="allsmallcaps">HBV</span>. In difference to <span class="allsmallcaps">HBV</span>, this model has no catchment parameters and generally no assumptions about the world. It should, therefore, be harder to fit than <span class="allsmallcaps">HBV</span>—especially for small datasets, like the one I used. On the other hand, are they not constrained by <span class="allsmallcaps">HBV</span>’s simplistic model of the world.</p><h4 id="a-poor-model">A poor model</h4><p>I many ways are <span class="allsmallcaps">LSTM</span> networks a poor model for hydrology. <span class="allsmallcaps">LSTM</span> was created to model more fuzzy binary problems like natural language processing. While the memory cells can have arbitrary values, the inputs/outputs to/from them are constrained to the [-1, 1] domain with <code class="highlighter-rouge">tanh</code> activation functions. To be able to handle rare floods, hydrological models should not constraint large inputs or outputs.</p><p>The second problem is that <span class="allsmallcaps">LSTM</span> has forget gates and add/subtract gates. Generally, we would like to have models where water is passed around from input, to different internal (storage) cells, between (storage) cells and then to output, without water being created or lost, except for the correction of precipitation at the input and a separate evaporation output that could be monitored.</p><p>These problems do not make <span class="allsmallcaps">LSTM</span> inherently unusable. <span class="allsmallcaps">LSTM</span>s are general computation machines that should theoretically be able to compute anything, given enough units. The problem is just that they might be unnecessary hard to train.</p><h2 id="2-method">2  Method</h2><h3 id="21-model">2.1  Model</h3><p>The model is a simple <span class="allsmallcaps">LSTM</span> with one layer and 30 units, plus one output layer with ReLU activation.</p><h3 id="22-code">2.2  Code</h3><p>Code and data can be found on <a href="https://nbviewer.jupyter.org/github/jontingvold/datascience-projects/blob/master/Hydrological%20modeling%20with%20a%20simple%20LSTM%20network%20of%2030%20units/Hydrological%20modeling%20with%20a%20simple%20LSTM%20network%20of%2030%20units.ipynb">Github</a>.</p><h3 id="23-optimization">2.3  Optimization</h3><ul><li>Adam is used for optimization with a learning rate of 0.00001</li><li>The sequence length is 30 time steps (days) and batch size 1. Thus the error is back propagated 30 time steps and parameters are updated without batching.</li><li>The internal state is reset every epoch (12 years). It can therefore learn dependencies longer than 30 days.</li><li>The loss function is mean squared error on the discharge. There is no explicit optimization of the accumulated discharge.</li></ul><h3 id="24-dataset">2.4  Dataset</h3><p>I used a short 15-years dataset from Hagabru, a discharge station in the Gaula river system, south of Trondheim (Norway). This catchment has a big area of 3059,5 km2 and no lakes to dampen responses. The first 12-years are used as training set, the last 3 years as validation set.</p><h2 id="3-results">3  Results</h2><h3 id="31-training-experience">3.1  Training experience</h3><ul><li>Normalize inputs and outputs between 0.0–1.0 seems to have a big effect on how fast optimization converges, but not prediction performance. Since the <span class="allsmallcaps">LSTM</span> layers outputs are between -1 to +1, the dense layer has to increase their weights. It seems to take a lot of time before these weights are fully learned.</li><li>Increasing the number of <span class="allsmallcaps">LSTM</span>-units seems to have a modest effect on performance after 30 neurons on the small dataset.</li><li>Two <span class="allsmallcaps">LSTM</span>-layers gave the same fit on the training set and slightly worse on the validation set. It might increase a bit with a bigger dataset, but I don’t think it is very beneficial with many layers for hydrological models.</li><li>Normal <span class="allsmallcaps">SGD</span> Nesterov with momentum seems to converge extremely poorly compared with Adam. I have no explanation for why.</li><li>I tried to put accumulated discharge in the loss/objective/cost function, but this just led to models that cap peaks and smoothens the discharge rate. R2 was reduced to 0.54 on the validation set.</li><li>I tried ReLU as activation function, but convergence failed and outputs produced NaNs. Not sure why, but ReLUs are uncommon for <span class="allsmallcaps">LSTM</span>, so it might be that ReLUs make values explode and convergence unstable.</li></ul><h3 id="32-r2nash-sutcliffe-efficiency">3.2  R2/Nash-Sutcliffe efficiency</h3><table><caption>R2/Nash-Sutcliffe efficiency</caption><thead><tr><th>Dataset</th><th><span class="allsmallcaps">LSTM</span></th><th><span class="allsmallcaps">HBV</span></th></tr></thead><tbody><tr><td>Traning set</td><td>0.82</td><td>0.78</td></tr><tr><td>Validation set</td><td>0.74</td><td>0.78</td></tr></tbody><tfoot><tr><td colspan="10">Here 0.0 is the trivial mean prediction and 1.0 is perfect prediction</td></tr></tfoot></table><p>The <span class="allsmallcaps">LSTM</span> network is generally not much behind the <span class="allsmallcaps">HBV</span> model. It performs four percentage points, or 20% worse than the <span class="allsmallcaps">HBV</span> model. However, the <span class="allsmallcaps">LSTM</span> model is less robust. <span class="allsmallcaps">HBV</span> performs equally well on the validation set as the training set, while the <span class="allsmallcaps">LSTM</span> model performs 8 percentage points worse.</p><h3 id="33-training-set">3.3  Training set</h3><figure class="zoomable fullwidth"><div class="imagecontainer lazyload-not-loaded" style="padding-bottom: 32.74%; width:2144px;"> <img class="lazyload" src="data:image/png;base64,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" data-srcset=" /post-assets-resized-80/Train-0.png 80w, /post-assets-resized-730/Train-0.png 730w, /post-assets-resized-1460/Train-0.png 1460w, /post-assets-resized-1080/Train-0.png 1080w, /post-assets/2019-11-01-test-of-lstm-for-hydrology/Train-0.png 2144w" sizes="(min-width: 730px) 730px, 100vw" data-original="/post-assets-resized-1460/Train-0.png" alt="" /></div></figure><figure class="zoomable fullwidth"><div><div class="imagecontainer lazyload-not-loaded" style="padding-bottom: 32.71%; width:2143px;"> <img class="lazyload" src="data:image/png;base64,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" data-srcset=" /post-assets-resized-80/Train-1.png 80w, /post-assets-resized-730/Train-1.png 730w, /post-assets-resized-1460/Train-1.png 1460w, /post-assets-resized-1080/Train-1.png 1080w, /post-assets/2019-11-01-test-of-lstm-for-hydrology/Train-1.png 2143w" sizes="(min-width: 730px) 730px, 100vw" data-original="/post-assets-resized-1460/Train-1.png" alt="" /></div><div class="imagecontainer lazyload-not-loaded" style="padding-bottom: 32.76%; width:2143px;"> <img class="lazyload" src="data:image/png;base64,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" data-srcset=" /post-assets-resized-80/Train-2.png 80w, /post-assets-resized-730/Train-2.png 730w, /post-assets-resized-1460/Train-2.png 1460w, /post-assets-resized-1080/Train-2.png 1080w, /post-assets/2019-11-01-test-of-lstm-for-hydrology/Train-2.png 2143w" sizes="(min-width: 730px) 730px, 100vw" data-original="/post-assets-resized-1460/Train-2.png" alt="" /></div><div class="imagecontainer lazyload-not-loaded" style="padding-bottom: 32.8%; width:2143px;"> <img class="lazyload" src="data:image/png;base64,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" data-srcset=" /post-assets-resized-80/Train-3.png 80w, /post-assets-resized-730/Train-3.png 730w, /post-assets-resized-1460/Train-3.png 1460w, /post-assets-resized-1080/Train-3.png 1080w, /post-assets/2019-11-01-test-of-lstm-for-hydrology/Train-3.png 2143w" sizes="(min-width: 730px) 730px, 100vw" data-original="/post-assets-resized-1460/Train-3.png" alt="" /></div></div></figure><figure class="zoomable fullwidth"><div class="imagecontainer lazyload-not-loaded" style="padding-bottom: 19.32%; width:2143px;"> <img class="lazyload" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAAAPCAMAAABEF7i9AAABXFBMVEX////v7+/S0tLl5eXU1NT09PT6+/v9/v/29/j19vf4+frz9fX7/P3+///o6Ojj5eb2/P/1/P/q9f/r9v/1+//9/f3t7/Dw+f/t9//s9v/q9v/u+/jr+/b2/frX19fm5ubc3Nzu+P/x+f/y+/3z+/3y+/zr+/Xs+/by/Pz7/v/a2trd3d3p9v3l9vjo+fbv+/n1/P7W1tbm5+jn9f3h9fbo+fXu+/fz/PzY2Njg4ODk9fnp+fbt+/fZ2dnb29vh4eHl5ufx+v/n9fzf9PXp+fXx+/rf39/n9fvl9/bk5OTm6Ons+Pzm+PXz+v/t9PnN0tXW297X3N7q+vXq+vbk9/bi9fbq+fjt9vbQ1djY3eDf5OLf7Ofa6OPc6+ff7Ojq7vDn6+3p7e/n7O7o7O75+fn39/f+/v719fXV1dXz8/Px8fHy8vLw8PDi4uLu7u7t7e329vb6+vr7+/v8/PysKOnoAAABUUlEQVQ4ja2U+TPDQBiGFynqbLOtlkRdlUiLKksRdZW476vOoE2rFMX/P2OP0Y6ZRhK8vzyzs988eXdnNgDYS01tHeeyOQvqG6zT6G5qbrEx14p9be2ef4qXhz7gB6Djb5pAsBPyXZBEELtBqKf3lw19fVjBQ9g/EB4UJRlHHPIoIBJ12tBLRJAfHhnFDgmbBCE29rWJhfHouE1TkB5rAk2SNtJUotqMAqZnrBsy06xKRPLcj6MKSM4vLJpuL8FlhFBqRSSmVavvMqFW9Q4Da4iY1sXK7diLAjaAtllZbyGa1HbMmQdnB+7u7R8o5KWQhuHDI1U9Pjl17CknIZ+l0+dEqF1cXl3f6Di3um6Gu3uKTMZ0gsFNGmaT9EkbXI4gH6cr13c8UBQiFI8cxVOIovhM8fJa/jkYJYqSQZHPMgVD4Y3hnSk+mNDPwFbFHBMy2SdzP3CTHfFpfgAAAABJRU5ErkJggg==" data-srcset=" /post-assets-resized-80/Train-4.png 80w, /post-assets-resized-730/Train-4.png 730w, /post-assets-resized-1460/Train-4.png 1460w, /post-assets-resized-1080/Train-4.png 1080w, /post-assets/2019-11-01-test-of-lstm-for-hydrology/Train-4.png 2143w" sizes="(min-width: 730px) 730px, 100vw" data-original="/post-assets-resized-1460/Train-4.png" alt="" /></div></figure><h3 id="34-validation-set">3.4  Validation set</h3><figure class="zoomable fullwidth"><div class="imagecontainer lazyload-not-loaded" style="padding-bottom: 32.8%; width:2143px;"> <img class="lazyload" src="data:image/png;base64,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" data-srcset=" /post-assets-resized-80/Val-5.png 80w, /post-assets-resized-730/Val-5.png 730w, /post-assets-resized-1460/Val-5.png 1460w, /post-assets-resized-1080/Val-5.png 1080w, /post-assets/2019-11-01-test-of-lstm-for-hydrology/Val-5.png 2143w" sizes="(min-width: 730px) 730px, 100vw" data-original="/post-assets-resized-1460/Val-5.png" alt="" /></div></figure><figure class="zoomable fullwidth"><div><div class="imagecontainer lazyload-not-loaded" style="padding-bottom: 32.76%; width:2143px;"> <img class="lazyload" src="data:image/png;base64,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" data-srcset=" /post-assets-resized-80/Val-6.png 80w, /post-assets-resized-730/Val-6.png 730w, /post-assets-resized-1460/Val-6.png 1460w, /post-assets-resized-1080/Val-6.png 1080w, /post-assets/2019-11-01-test-of-lstm-for-hydrology/Val-6.png 2143w" sizes="(min-width: 730px) 730px, 100vw" data-original="/post-assets-resized-1460/Val-6.png" alt="" /></div><div class="imagecontainer lazyload-not-loaded" style="padding-bottom: 32.71%; width:2143px;"> <img class="lazyload" src="data:image/png;base64,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" data-srcset=" /post-assets-resized-80/Val-7.png 80w, /post-assets-resized-730/Val-7.png 730w, /post-assets-resized-1460/Val-7.png 1460w, /post-assets-resized-1080/Val-7.png 1080w, /post-assets/2019-11-01-test-of-lstm-for-hydrology/Val-7.png 2143w" sizes="(min-width: 730px) 730px, 100vw" data-original="/post-assets-resized-1460/Val-7.png" alt="" /></div><div class="imagecontainer lazyload-not-loaded" style="padding-bottom: 32.71%; width:2143px;"> <img class="lazyload" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAAAaCAIAAACvsEzwAAAHzUlEQVRYhdVYaXMcxw19QHfPsbMHuZQo2zpCl1Suyp9IVf7/l1S5UrZlMkwk2xTFa6+ZnekDyIddrlYkJUWKpFTep5k3ABpAow8MqSq+MJqmefnypbWWmauqUtXZbFYUxXw+L8syxjgaja6ursbj8f3797+0M7QJeHJ+noihQimtGDWWQ6fGAoAqqSoRmCEJqiAmEagCUOeQEowBACKoQhXMCoAYKvO6FhEAeZZ574mYDWvXFUURlksYoy4zhMI5QEEENkrEXasuAxGIVYViUJdTilCFConCGF0Ndw21lkNQKNiAmIIHoEzI8qqq8jy3G9E2qh2NM6R/HR+Wl+c++O//8lfz4p/yYIyUaDGHsZrnWvaontNyqaOR/fvfqF5o1Y8//JnEy2BEbYu8UOegSimqy1bGe7v37ki276iuzemr+PQHHQwRI7VLOMcnv6eDpxAxv7+Q4S6M1SwDYI6ep6ffUtfS5QUFT8tGe/303UNqW/IdLZfKLPce8PkZX51DJH3/zPzjEMHLd4+nSay1ACyAy8vL8/PzqupbtwQsOyvDIcUEID05AICUNC/ADCIAOtzR4Q6A9OiAp1dyf1/7Qx0QgE2EIFLObge5Dc1yzXIEr4MhAFir/QEA2bsHAMzp8cFb8r0KgOYF5bk6lx79iacTGKtVX8sedsY8uQQgu7taVdQ0muWy/w01tezda//47eLiYn9/n+bzubW2KIrTP07Gs2naf/DLq1PnMlnMxo+eeO+Lohjt7LzLafPbi/ToyfsD+1zw09fZaB8AzaZa9mAMNfUqR2ukCGO3VXhypUWpRVFPLoeD/mQysYvFYjAYAFDr0nePNMufPCnarqO9vcw5l2WrSngX0sPHXyS4W7gItc/Tt5t35yByU8jcdFWZtSgALJfLydVlVVXWGHN1dXVyclL0h1r1ARTOFWX5nzpC9KkhfBxqT10YoQAAHY4AKJBotU++G9ezVZblg/37r1+/5hhjWZbPnj0z753Jrw+vXrHefqPGobMMGzUCmMoMQFBcmA+kO5W9hASgbdvj42MR4dWxNJ/Pv6z7H4mgMSA2ugQgkEnwQ5d908ta9QBa9ROZBQRr4/vt1Lq86DoARVEcHBzEGLkoCgBN04QY3hZtAGxy/C54De8X+AQEDbXWFfVWr3Op69QyrVYPTWWeEsVoBWLoAxVNgKgCaNv28PCw3+/b8Xi8+vbLq9+2wvDTNC9sXktrwBWXXdJa68q4nHIAChDgk56E2eNil5SbgOoDx9BN1Np4DSMeMHjFLLWNGhVKYTAHOoJ1XQp5oQWAnsOsLYl00XRlJh2aXKuWW68hIe3yzlzqAVcAosa51rs8AlBR7zwsnLVPnz4timJ905pOpy+m8537uwQCKGiwZJICYohTgnQShtwX8iJMRBGBwD7J0GWNeBIr7C0cgUHRkllKV1CxiW1VJwwQgQhekqpmKDJyC8wKdp0EgKDUoz4UziC3WARZSD3igTOwDABJoIAqBFDV3NCki46tVx+oDfA99EDUSSDJnBGhtGcHTYyzs5PdqhqPx+uAY4yXV1fMb1VISpHZrAppw5i3t/4QgnPuxtRtxFSFiO9UTCky8+rrncZVRURua33Q8p3Gq15ZliU2d+mzs7Om82XVx/8pFJLA9nqx3YIlHe/sYHW1BJDnudpsMBx9RR8/FYoUYbaqKnmEFmrgckgCFOwABVtsSnY5n64euOu6lJKIpJDaGXwDSV89hg9BFc0lYgffoKtRn0O3blldjWKIvI8UkfVgMiQPiUj+jYxcn198dnYmItbaFLgYgi2ivzanaGdIEQBSQNzS/9JQhW/evLYzlLtIHpKQ9zH8FvUlfIMU4GvkAwBgg7wCAOOQ95FVsDm6BcISvn4z1XbVl1trXRFU1TgYh9ghehAjH2A5hc1BgAgkwmRgA9/AlUgBzFBAEwDYHBKhCrZIAfYdp5RExA62gK9BjLwPFUQPmyG0IEL0gCLvI3qkABWwBYCsv84FgN4YyUMErveGvAlCVq0f02ItYWOMIpJSapbLrChElAAiUiNgbluok67lFDWrIJFCLaRsC7QTIXD0YKvGUgoaz8GG2Il1LBG2EDYsogBiSzGIMQwCSPKSm7maHCmQn2jysDnNr6QYMFskiCu5Cxoa2IzIiCpLCxVhZlVVgJkkCTGnFknEGFaFqjDzJoQkwswAVETlOmDvfUrJWltVVVG8o2eo0M2RX+dy1S+EJYhhx+vay3bWC2F1FkQP49aSzRXKEm4MACqIHVyJzVDtDMUDAMDO9XAbL3p3u/MJWM7Xi9gSkYjUdZ3A71HIr7vOTXekui7arIfYAdehru1maGcwDimiGKxrciXj3s5qMfwvY/k42IcPHzrnrLWTevlRmtlW+m1+h4AqXImbl5L/NTjLshDC2dlZih/oPD4WX6tT/ji8+Wv58vc/8rJkYlEBwMQhBGMNgXDdNsn1NrARSzE55zYqq4eVmAqI1+RtsRSTseb2cBvmzuEkiTFm5cxty3eSK8YSxru7AKCqqx/FR0dHuoW6rg8PD/Vt/PTTT3VdbzM///zzDebo6Oj09HSbWSwWz58/32ZevXp1cnKyzTRN8+uvv24zbdv++OOPKaVt8vj4uG3bbebk5OSGAxcXFzdMbePNDH8unJ6eWmv39vY+r9nPhX8DUKNVbwshvwAAAAAASUVORK5CYII=" data-srcset=" /post-assets-resized-80/Val-8.png 80w, /post-assets-resized-730/Val-8.png 730w, /post-assets-resized-1460/Val-8.png 1460w, /post-assets-resized-1080/Val-8.png 1080w, /post-assets/2019-11-01-test-of-lstm-for-hydrology/Val-8.png 2143w" sizes="(min-width: 730px) 730px, 100vw" data-original="/post-assets-resized-1460/Val-8.png" alt="" /></div></div></figure><figure class="zoomable fullwidth"><div class="imagecontainer lazyload-not-loaded" style="padding-bottom: 19.37%; width:2143px;"> <img class="lazyload" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAAAPCAMAAABEF7i9AAABU1BMVEX////v7+/d3d3l5eXU1NTq6ur7+/z9/v/2+Pj3+Pn4+fr09fb7/f3+///19fXo6uv2/P/t+/fs+/br+/X1/Pvx8fHy8vLi9vXg9fXp9v7r9v/2+//b29ve3t7j5ebz+//v+P/j9fjj9vXm+PXx+v77/v/Y2Njf39/9/f3t7/Dk9fng9fbh9fbj9vbo+fbr+/bz/P3c3NzX19fm6Ojs9//n9fzq+vXy+/vw+f/s9v/p+Pfg4ODh4eHl5+fy+v/q9v/p9v3o+Pfr+vbx+/vk5OTq7O3p9f/k9vf0/P70+v3s7Ozp6+zl9vnq+vT0/P3z+v/t9PnP1NbW297X3N/f5OPk9vbm9/Xw+/rz/Pzt9vbR1tnR1tjY3eD19vbu8PDo6erp6uvr7O3q6+z39/fn5+f4+Pj8/PzW1tb6+vrw8PDj4+PZ2dn29vb+/v75+fna2trz8/NMPSe8AAABQklEQVQ4jWNgIA4wMjGzsBKploGNnTDg4OTi5iFCHS/QPD5+AaoAQSEhIWERBlEGMaoYKC4hKQUE0gwyMrJyZOiXV5BCAopKyioQcVUGNXUNTRIMAmnX0tbR0dXTF0IAA7i8KoOhEZMx0caZmJoJCwmZ41GhysDCxIDDhRaWUujASoiQlaoMTNY2thjCdvZSUg6OTkLI3gICfWeCflBlkHURc0UTlHdzB3pM0IOgbnTgCTLQi8HLG0nMAugxH18/ks0SEPCXCggMClYFJmz1EL1QXR0oCAP6LJwM4wQEIoQio6JjQAYyxMaBQHwcBCQkojNgMokJUEZSEkwEpsQWSsclw/JziloqmE6zSdcAMzKYDCEymYbQQiErOwdM57oY5YEZeTJZEBmvfC+MAkIUnZHKB2UUaKDJ5DJCGXnJaDIgAADYg2qJWmi01wAAAABJRU5ErkJggg==" data-srcset=" /post-assets-resized-80/Val-9.png 80w, /post-assets-resized-730/Val-9.png 730w, /post-assets-resized-1460/Val-9.png 1460w, /post-assets-resized-1080/Val-9.png 1080w, /post-assets/2019-11-01-test-of-lstm-for-hydrology/Val-9.png 2143w" sizes="(min-width: 730px) 730px, 100vw" data-original="/post-assets-resized-1460/Val-9.png" alt="" /></div></figure><h4 id="rainfall-events">Rainfall events</h4><ul><li>It seems to estimate the peak size after rainfall events quite well, perhaps slightly better than <span class="allsmallcaps">HBV</span>.</li><li>The discharge falls a bit weird. It seems to fall linearly with lots of breaks. It should fall like exponential decay, where the decay is larger for/after big rainfall events.</li><li>It seems like the model has a maximal discharge rate. Large peaks are underestimated and simulated peaks have ca. the same value.</li></ul><h4 id="snowmelt">Snowmelt</h4><ul><li>The model struggles with spring melt when the temperature is near zero, for instance in March and April 2014, and March 2012. When the temperature is high, like in June 2012, the estimates are good. Snowmelt around zero is something all hydrological models struggle with because snowmelt is affected not only by temperature, but also wind, humidity and in-/outgoing radiation (e.g. clear nights). It still performs worse than <span class="allsmallcaps">HBV</span>, but the <span class="allsmallcaps">HBV</span> is configured with the elevation distribution of the catchment and the estimated temperature on different elevations, while the <span class="allsmallcaps">LSTM</span>-network needs to learn it, so it should perform worse.</li><li>It seems to be able to learn to store snow, but it is hard to know how accurately it records and store snow levels. The model seems to output more water after winters with more precipitation, and it looks like the accumulated discharge is neither severely over- or underestimated during spring melt the two first years in the validation set. However, in 2014 the discharge is way too high over time.</li></ul><h2 id="4-discussion">4  Discussion</h2><ul><li>The performance looks quite good compared to the simple, poor model and short time series. It is quite amazing how well it behaves from being trained on only 4380 time steps and that it learns quite well to store snow over long periods.</li><li>The reason it underestimates peaks is probably because of the <code class="highlighter-rouge">tanh</code> activation functions. It is not the biggest problem, but it probably makes <span class="allsmallcaps">LSTM</span> unusable to estimate (rare) flood events. A different <span class="allsmallcaps">RNN</span> architecture could perhaps solve this.</li><li>It is hard to know how accurate the model store snow levels. However, it is probably far away from <span class="allsmallcaps">HBV</span>. The model would likely benefit from a more constraint model when it comes to adding and subtracting water from memory cells.</li><li>The problem that discharge rates do not smoothly decay after rainfall events, might be an artifact by how <span class="allsmallcaps">LSTM</span> networks work. <span class="allsmallcaps">LSTM</span> networks should be able to model exponential decay. However it requires that the cell units have values around 0.5 (so they neither are limited the tanh activation functions, or they are close to zero and produce small outputs), the activation layer needs produce outputs near 0, so the sigmoids produce output near 0.5 and decent decaying factors, and the outputs should into the forget gates on the next time step and remove the same amount of water from the cell states that was outputted. It is a lot to demand that <span class="allsmallcaps">LSTM</span> networks should learn this accurately, and the fact that it does not look like it does might mean that <span class="allsmallcaps">LSTM</span> networks are poor at accurately modeling snow levels, and get proper decaying outputting from storage cells.</li><li>Even if <span class="allsmallcaps">LSTM</span> model had performed similarly as <span class="allsmallcaps">HBV</span>, the <span class="allsmallcaps">HBV</span> model would be preferred. It is, of course, a lot more robust, and performs almost equally well on the validation set as the training set.</li></ul><h2 id="5-conclusion">5  Conclusion</h2><p>This dataset is too small to get a decent overview of <span class="allsmallcaps">LSTM</span> s performance. However, on this dataset it performs quite well. It is not too much behind <span class="allsmallcaps">HBV</span>, although its predictions are a lot less robust and trustwordy compare to <span class="allsmallcaps">HBV</span>. The <span class="allsmallcaps">LSTM</span> model fails at some places which might indicate that the architecture is not the best, like that the decaying after rainfall events are not very smooth and constrained peaks. It would be interesting to look at other <span class="allsmallcaps">RNN</span> architectures that are more suitable for hydrological modeling.</p><h4 id="is-it-possible-to-create-a-better-model">Is it possible to create a better model?</h4><p>For hydrology, we probably want an <span class="allsmallcaps">RNN</span> network with ReLU gates and where water not lost or created. However, designing new <span class="allsmallcaps">RNN</span> architectures is not the easiest task in the world. <span class="allsmallcaps">LSTM</span> (and the similar <span class="allsmallcaps">GRU</span>) has been the default architecture because it is difficult to create <span class="allsmallcaps">RNN</span> models. <span class="allsmallcaps">LSTM</span> was carefully designed to make training stable and avoid the vanishing gradient problem and be able to propagate errors over long time frames. I have tried to think of a better model, but probably need to think a bit more seriously, if I should have a chance.</p><p>It would also be interesting to implement <span class="allsmallcaps">HBV</span>, or something similar, in Tensorflow and train it with gradient descent like a neural network. As far as I can see is the only strictly undifferentiable parts in <span class="allsmallcaps">HBV</span> min/max functions, and they are differentiable in practice.</p><p>However, a pure <span class="allsmallcaps">HBV</span> trained with gradient descent might be stuck in local minimas. Local minimas are usually not a problem for neural networks because they have lots of parameters. The chance that all second derivates are all positive is therefore small. <span class="allsmallcaps">HBV</span> has only 16 parameters and is, therefore, more likely to be stuck in local minimas if it’s not trained by algorithms that tackle local minimas.</p><p>The ideal model might be therefore something between <span class="allsmallcaps">HBV</span> and <span class="allsmallcaps">LSTM</span>—a network based on <span class="allsmallcaps">HBV</span>’s tank model, but with more parameters, more freedom, and less linearity. The error in storage cells should also be able to flow freely back in time without degradation to be able to train long term dependencies like snow storage over the winter.</p><h2 id="references" class="footnotes-headline">References</h2><div class="footnotes" role="doc-endnotes"><ol><li id="fn:1" role="doc-endnote"><p>Kratzert, Frederik, Daniel Klotz, Claire Brenner, Karsten Schulz, and Mathew Herrnegger. “Rainfall–Runoff Modelling Using Long Short-Term Memory (<span class="allsmallcaps">LSTM</span>) Networks.” Hydrology and Earth System Sciences 22, no. 11 (November 22, 2018): 6005–22. <a href="https://doi.org/10.5194/hess-22-6005-2018">https://doi.org/10.5194/hess-22-6005-2018</a>. <a href="#fnref:1" class="reversefootnote" role="doc-backlink">&#8617;</a></p></li></ol></div><div class="copyrightnotice"> <span class="only-print">Source: <a href="https://www.jontingvold.no/articles/test-of-lstm-for-hydrology.html">https://www.jontingvold.no/articles/test-of-lstm-for-hydrology.html</a><br></span> &copy;2019&nbsp; Jon Tingvold, Norway. All rights reserved.<br> Last updated Jun 5, 2020</div></main></div></div></div></body><script>performance.mark('javascript:block');</script><style>#instantclick {display: none;}</style><script src="/assets/javascript/instantclick.min.js" data-no-instant></script> <script src="/assets/javascript/jquery.min.js" data-no-instant></script> <script src="/assets/javascript/bootstrap.min.js" data-no-instant></script> <script data-no-instant> function scrollIntoViewX(scrollingElement, elementTop, scrollerTop, scrollerBottom, evenIfVisible) { const offset = 100; /* px */ const animation_time = 150; /* ms */ const isVisible = (elementTop >= scrollerTop && elementTop <= (scrollerBottom - 100)); if (!isVisible || evenIfVisible) { $(scrollingElement).animate({ scrollTop: elementTop - offset }, animation_time); } } function scrollIntoView(scrollingElement, scrollToElement, evenIfVisible) { const elementTop = scrollToElement.offsetTop; const scrollerTop = scrollingElement.scrollTop; const scrollerBottom = scrollerTop + $(scrollingElement).innerHeight(); scrollIntoViewX(scrollingElement, elementTop, scrollerTop, scrollerBottom, evenIfVisible); } function scrollWindowIntoView(scrollToElement, evenIfVisible) { const elementTop = scrollToElement.offsetTop; const scrollerTop = window.scrollY; const scrollerBottom = scrollerTop + window.innerHeight; scrollIntoViewX('html, body', elementTop, scrollerTop, scrollerBottom, evenIfVisible); } function enhanceAnchorLinks() { $(document).ready(function() { $("#toc a[href^='#']").click(function (event) { const idWithHash = $(this).attr('href'); const scrollToElement = document.getElementById(idWithHash.substring(1)); scrollWindowIntoView(scrollToElement, true); event.stopPropagation(); return false; }); }); } InstantClick.on('change', () => { $('body').scrollspy({ target: '#toc', offset: 130 }); enhanceAnchorLinks(); }); /* DISABLED: BFCACHE AND SCROLL POSITION RESTORATION DOES NOT WORK WITH SCROLLABLE DIVS $('#toc').on('activate.bs.scrollspy', function (event) { scrollIntoView(document.querySelector("#toc .nav"), event.target, false); }); */ </script><style> @media screen and (max-width: 1000px) { img {box-shadow: none;} }</style><script src="/assets/javascript/lozad.min.js" data-no-instant></script><style> @media screen { .imagecontainer.lazyload-not-loaded img { opacity: 0; } .imagecontainer img { opacity:1; transition: opacity 0.15s linear } } /* .imagecontainer.makeblurry {overflow:hidden; } .imagecontainer.overflow-hidden img {} .imagecontainer.makeblurry img {filter: blur(15px);transform: scale(1.05);} .imagecontainer img {} .imagecontainer img {transition: filter 0.1s linear, transform 0.4s linear;}*/</style><script> const observer = lozad('.lazyload', { rootMargin: '200px', threshold: 0.1, loaded: function(el) { /*el.src = el.getAttribute('data-original'); /* Preper for zooming */ el.parentElement.classList.remove('lazyload-not-loaded'); } }); window.addEventListener("beforeprint", (event) => { let elements = document.querySelectorAll('.lazyload'); elements.forEach(element => {observer.triggerLoad(element);}); }); InstantClick.on('change', () => { observer.observe(); }); </script> <script src="/assets/javascript/zooming.min.js" data-no-instant></script> <script> /* https://github.com/kingdido999/zooming */ if (window.innerWidth > 1000) { var zooming = new Zooming({ enableGrab: false, bgOpacity: 1.0, bgColor: "rgb(255, 255, 255)", transitionDuration: 0.2, scaleBase: 0.8, onBeforeOpen: function() { imageContainers = document.querySelectorAll('figure.zoomable .imagecontainer'); imageContainers.forEach(imageContainer => {imageContainer.style.overflow = "visable"}); images = document.querySelectorAll('figure.zoomable img'); images.forEach(image => {image.src = ""}); } }).listen('img.zoomable, figure.zoomable img'); } </script> <script data-no-instant>InstantClick.init();</script> <script>performance.mark('javascript:unblock');</script><script type="text/javascript" data-no-instant> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','https://www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-9010257-2', 'auto'); ga('send', 'pageview'); // Track JS performance if (window.performance) { var timeSincePageLoad_ms = performance.now() var timeSincePageLoad_ms_int = Math.round(timeSincePageLoad_ms) ga('send', 'timing', 'JS Dependencies', 'load', timeSincePageLoad_ms_int); } // Track page views with InstantClick SinglePageApplication InstantClick.on('change', function() { ga('send', 'pageview', location.pathname + location.search); }); </script> <script> var redirectTime = performance.timing.redirectEnd - performance.timing.redirectStart; var dnsLookupTime = performance.timing.domainLookupEnd - performance.timing.domainLookupStart; var tcpConnectTime = performance.timing.connectEnd - performance.timing.connectStart; var connectTime = performance.timing.responseEnd - performance.timing.requestStart; var renderTime = performance.timing.domComplete - performance.timing.domLoading; var totalPageLoadTime = performance.timing.loadEventEnd - performance.timing.navigationStart; ga('send', 'timing', 'Redirect time', 'Redirect', redirectTime); ga('send', 'timing', 'DNS lookup time', 'unblock', dnsLookupTime); ga('send', 'timing', 'TCP connect time', 'unblock', tcpConnectTime); ga('send', 'timing', 'Rendering time', 'unblock', renderTime); ga('send', 'timing', 'Total page load time', 'unblock', totalPageLoadTime); if (performance.getEntriesByName("first-paint").length > 0) { const firstPaintTime = performance.getEntriesByName("first-paint")[0].startTime; ga('send', 'timing', 'First paint time', 'unblock', firstPaintTime); } if (performance.getEntriesByName("first-paint").length > 0) { const firstPaintTime = performance.getEntriesByName("first-paint")[0].startTime; ga('send', 'timing', 'First paint time', 'unblock', firstPaintTime); } if (performance.getEntriesByName("first-contentful-paint").length > 0) { const firstContentfulPaintTime = performance.getEntriesByName("first-contentful-paint")[0].startTime; ga('send', 'timing', 'First contentful paint time', 'unblock', firstContentfulPaintTime); } //ga('send', 'timing', 'CSS', 'start-block', performance.measure("css-rendering-time", 'css:block').startTime); ga('send', 'timing', 'CSS', 'blocked', performance.measure("css-rendering-time", 'css:block', 'css:unblock').duration); //ga('send', 'timing', 'Javascript', 'blocked', performance.measure("javascript-rendering-time", 'javascript:block').startTime); ga('send', 'timing', 'Javascript', 'blocked', performance.measure("javascript-rendering-time", 'javascript:block', 'javascript:unblock').duration); </script></html><!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width"><title>A responsive multi-column feasibility study (Jon Tingvold)</title><meta name="description" content=""><link rel="preload" as="font" crossorigin href="/assets/style/default/fonts/Minion Pro/Minion Pro Regular.woff2"><link rel="preload" as="font" crossorigin href="/assets/style/default/fonts/Gill Sans/GillSans.woff2"><link rel="preload" as="font" crossorigin href="/assets/style/default/fonts/Minion Pro/Minion Pro Regular Italic.woff2"><link rel="preload" as="font" crossorigin href="/assets/style/default/fonts/Minion Pro/Minion Pro Semibold.woff2"> <script>performance.mark('css:block');</script><link rel="stylesheet" href="/assets/style/baseline.css?v=1.0.10"><link rel="stylesheet" href="/assets/style/default/style.css?v=1.0.5"><link rel="stylesheet" href="/assets/style/default/fonts/Gill Sans/gillsans.css?v=1.0.0"><link rel="stylesheet" href="/assets/style/default/fonts/Minion Pro/minionpro.css?v=1.0.0"><link rel="stylesheet" href="/assets/style/pygments-code-highlighter-github-theme.css?v=1.0.0"> <script>performance.mark('css:unblock');</script><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="shortcut icon" href="/favicon.ico"><meta name="msapplication-TileColor" content="#000000"><meta name="theme-color" content="#000000"><meta name="application-name" content="Jon Tingvold"><link rel="manifest" href="/site.webmanifest"><link rel="alternate" type="application/atom+xml" title="Jon Tingvold" href="/feed.atom.xml"><link rel="sitemap" type="application/xml" title="sitemap" href="/sitemap.xml" /></head><body><div id="body" class=" divide-paragraphs-by-idention"><div id="leftsidebar"><nav id="toc"><ul class="nav"><li class=" toc-h2"><a href="#demo">Demo</a></li><li class=" toc-h2"><a href="#abstract">Abstract</a></li><li class=" toc-h2"><a href="#introduction">Introduction</a><ul><li class=" toc-h3"><a href="#why-multi-column-layouts">Why multi-column layouts?</a></li><li class=" toc-h3"><a href="#doesnt-css-support-multi-columns">Doesn’t CSS support multi-columns?</a></li></ul></li><li class=" toc-h2"><a href="#implementation-and-technical-challenges">Implementation and technical challenges</a><ul><li class=" toc-h3"><a href="#ftcolumnflows-design">FTColumnflow’s design</a></li><li class=" toc-h3"><a href="#ftcolumnflows-two-problems">FTColumnflow’s two problems</a></li><li class=" toc-h3"><a href="#making-ftcolumnflow-responsive">Making FTColumnflow responsive</a></li></ul></li><li class=" toc-h2"><a href="#findings">Findings</a><ul><li class=" toc-h3"><a href="#the-good">The good</a></li><li class=" toc-h3"><a href="#the-bad">The bad</a></li><li class=" toc-h3"><a href="#the-potentially-problematic">The potentially problematic</a></li></ul></li><li class=" toc-h2"><a href="#conclusion">Conclusion</a></li></ul></nav></div><div id="page"><nav id="breadcrumbs" class="hideprint"><div class="container"><div> <a href="/">jontingvold.no</a> <span class="divider">&nbsp;//&nbsp;</span> <a href="/articles/"> Articles</a> <span class="divider">&nbsp;//&nbsp;</span> A responsive multi-column feasibility study</div></div></nav><div id="pagepage"><main role="main" class="container"><div class="kicker">Mini research</div><h1>A responsive multi-column feasibility study</h1><figure class="fullwidth"> <a title="Demo page" href="https://jontingvold.github.io/responsive-multicolumn-layout/"><div class="imagecontainer lazyload-not-loaded" style="padding-bottom: 50.0%; width:2002px;"> <img class="lazyload" src="data:image/png;base64,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" data-srcset=" /post-assets-resized-80/collage-small.png 80w, /post-assets-resized-730/collage-small.png 730w, /post-assets-resized-1460/collage-small.png 1460w, /post-assets-resized-1080/collage-small.png 1080w, /post-assets/2015-10-01-responsive-multicolumn-layout/collage-small.png 2002w" sizes="(min-width: 730px) 730px, 100vw" data-original="/post-assets-resized-1460/collage-small.png" alt="" /></div></a><figcaption>This was a small personal research project I did in 2015, which was updated in 2016, 2018 and 2019. The aim was to create a prototype of a responsive multi-column layout and see if the technology was production-ready.</figcaption></figure><h2 id="demo">Demo</h2><p><a href="https://jontingvold.github.io/responsive-multicolumn-layout/">https://jontingvold.github.io/responsive-multicolumn-layout/</a></p><h2 id="abstract">Abstract</h2><p>Multi-columns are a distinct part of every newspaper. However, on the web, where multi-columns could have helped fill desktop’s wide screens, they have so far been absent. While there have been multiple efforts to get proper multi-column support in <span class="allsmallcaps">CSS</span>, today’s implementation is flawed. Multi-column javascript libraries have their own challenges: FTColumnflow, the best, is complex and lack responsive layouts. This study, and the included proof-of-concept, shows that it is probably possible to solve these problems and use multi-column layouts in production. After the first version in 2015 browsers have become faster and <span class="allsmallcaps">CSS</span> Scroll Snap has improved the user experience considerably. However, multi-columns are still risky. The complex layout engines necessary are prone to bugs and changing browser behavior.</p><h2 id="introduction">Introduction</h2><h3 id="why-multi-column-layouts">Why multi-column layouts?</h3><p>I like reading print. You can see big parts of the page at once. It is easy to scan pages. You can look at headlines and pictures, and go a bit back and forth, and try to figure out what the page is about, without too much commitment. It is easier to examine the connection between the text and picture, introduction and conclusion. This non-linear reading is also a bit relaxing. It makes you stop reading. And think.</p><p>I think one of the reasons print feels so superior to the web, is multi-columns. In today’s world where most desktops have wide low screens, website’s single-column layouts lead to large empty parts, and just a small part of the document is visible at the same time. The whole experience feels a bit like reading documents through a tiny straw. That is problematic because the less you see of a document at the same time, the more of the article you have to hold in your internal memory. And it gets harder to get a holistic view of the article.</p><p>The other problem is that there are no natural breaks. There are no column breaks or page breaks. Just an endless stream of text pointing downwards. I notice it when I read: I forget to take breaks. I look less on images. And I stop less to think about what I am reading.</p><p>I also look less on ads. When I read print, my eyes often wander over the page and sometimes stops at the ad in the corner. When I read on the web, I just want to continue with the article I am reading.</p><p>It would have been interesting to research if what I am thinking is true.</p><p>My unproved thesis is that multi-columns have the following advantages:</p><ul><li>More beautiful and more relaxing</li><li>Scanning is easier</li><li>Images and headlines get more attention</li><li>Ads get more attention</li><li>Articles generally communicate better</li></ul><p>But if multi-columns are so good, why aren’t web designers using it?</p><h3 id="doesnt-css-support-multi-columns">Doesn’t CSS support multi-columns?</h3><p>Multi-columns was proposed as a web standard as early as 1999 (<a href="https://www.w3.org/TR/css-multicol-1/"><span class="allsmallcaps">W3C</span></a>) and have been supported by browsers since at least 2005 (<a href="https://caniuse.com/#search=column-width">caniuse.com</a>).</p><p>However, this standard misses so many vital features that it essentially is useless. The problems are many, but the most important are that:</p><ul><li>It does not support pagination (except for print). So if you have longer text pieces than one screen size, you either have to get very long pages, where the user have to scroll back and worth. Or, you can expand the page vertically, which is problematic because many users lack mouses with support for vertical scrolling.</li><li><code class="highlighter-rouge">column-span</code> is still not supported by Firefox (<a href="https://caniuse.com/#search=column-span">caniuse.com</a>), so images, tables, and other fixed elements can’t be larger than the column width.</li><li>There are no controls to float/bound images to the bottom of a column, the last column (on a page) or the page corner</li></ul><p>I guess part of the reason multi-column have not seen more traction is that is difficult to implement. It also joins a long list of missing design features in <span class="allsmallcaps">HTML/CSS</span>, so it might also be because <span class="allsmallcaps">W3C</span> and browser makers consist mostly of engineers, and not designers, and are concerned about improving the web as a programming platform, than a document standard.</p><p>Without native support, the only way to make multi-column layouts is to create a layout engine in javascript, calculate where each paragraph and image should be displayed, and use absolute positioning. That requires lots of engineering.</p><h2 id="implementation-and-technical-challenges">Implementation and technical challenges</h2><p>The project is built on <a href="https://github.com/ftlabs/ftcolumnflow">FTColumnflow</a>, a library for creating multi-column layout build by George Crawford for the Financial Times (<span class="allsmallcaps">FT</span>). In many years it was used in Financial times’ and The Economist’s iPad web apps, back in the days when companies created web apps to avoid Apple’s 30 percent revenue cut. And, as far as I know, no other multi-column libraries come close to being as good as it.</p><h3 id="ftcolumnflows-design">FTColumnflow’s design</h3><p>FTColumnflow is based on fixed page size, you have to specify when FTColumnflow renders the page. The library also differs between two types of content: <code class="highlighter-rouge">fixed</code> content, like images, that are assigned a specific page and column, and <code class="highlighter-rouge">flowed</code> content, like the rest of the article, that are flowed (automatically) around the fixed content to fill the pages and columns. Fixed content can be positioned using <span class="allsmallcaps">CSS</span> classes to specify a page number, vertical/horizontal anchoring, column span, and span direction.</p><p>FTColumnflow renders first fixed elements, like images, to determine their size. It then sets up the pages using absolute positioning and calculates where the fixed content inside a page should be places and positions it—also with absolute positioning. Finally, it calculates how large each column can be and fills the columns with content.</p><p>Filling the pages with flowed content is the most complex process. Most javascript libraries that have tried to implement multi-columns, fill each column with elements and paragraphs until a word is placed outside the page. They then cut the paragraph in half, creates a new <code class="highlighter-rouge">p</code>-element with the remaining text and places it inside the next column. New elements are then placed in the next column until a paragraph, or other text element, overflows the page again.</p><p>FTColumnflow found the last operation, of splitting the text, so slow that it became a performance problem. Instead, they found it was less expensive to just hide the excess paragraph behind <code class="highlighter-rouge">overflow: hidden</code>, calculate the pixel height of the visible paragraph part, and create a new copy of the whole paragraph that could be placed in the next column. If 50 pixel-heights of the paragraph was visible on the previous column, the new paragraph element was offset with <code class="highlighter-rouge">top: 50px</code>, so the paragraph seemed to flow consistently from one column to the next.</p><p>FTColumnflow’s new method is faster, but it creates its own problems. If the page height is not a multiple of the line-height, a part of the excess paragraph line will become visible. The same problem happens if not all lines have the same line-height or a multiple of it. All headers, leads, paragraphs, images, captions, and the page itself, must, therefore, have a height that is a multiple of the standard line-height, even if the elements have different font-sizes. That requires careful configuration of the <span class="allsmallcaps">CSS</span> file. FTColumnflow tries to automatically correct for this, but this feature sometimes fails.</p><h3 id="ftcolumnflows-two-problems">FTColumnflow’s two problems</h3><p>There are two major problems with the way FTColumnflow is designed.</p><p>Few content management systems (<span class="allsmallcaps">CMS</span>) can be configured so it is possible to specify which page and columns images should be placed on. Some <span class="allsmallcaps">CMS</span> systems allow you to set custom classes on images, so you might set up many configuration classes, like one for each page, one for each possible column, one per columns the image can span, and for different floats, but this quickly becomes a mess, and is far from user-friendly.</p><p>The other big problem is that is FTColumnflow is based on a fixed page size and does not support responsive layouts. While you can query the browsers viewport size and set FTColumnflow’s page size to the same size as the browser window, it creates other problems. Since some screen sizes generate six pages—some only two, and some screens can hold up to four images—some only one, it is hard to know which page images should be placed on, without getting cramped pages with overlapping pictures on some screens. Or getting large empty pages on others, because the text only fills three pages, while you specified that the image should be placed on page 5.</p><h3 id="making-ftcolumnflow-responsive">Making FTColumnflow responsive</h3><p>To solve, or at least limit, the responsive layout problem, I tried to limit the maximum and minimal screen area of each page.</p><p>In the demoed version I wrote some javascript code that sets the maximum page width to 1300 pixels, and the minimum page width to the width of the screen. Then I defined a maximal and minimum screen areal. If the screen size is less than the min areal, the page scroll snap is turned off and the page height is set bigger than the screen height, and so tall that the height and width have an area equal to the min areal. If the screen size is larger than the max areal, the page scroll snap is also turned off, and the page height is set smaller than the screen height and so short, that the height and width (or 1300 px) have an area equal to the max areal. This reduces the chance that images will cramp together, or that there is not enough text to fill all the pages that images have been placed on.</p><p>This is by far an ideal solution but avoids the problem enough, as long as you are a bit careful with how you position images.</p><p>The ideal solution would have been to rewrite FTColumnflow so it can handle normal <span class="allsmallcaps">HTML</span> documents where images are placed in the middle of the content without special formatting or extensive class names, except some predefined image sizes. Large images could then span two columns, and small images only one.</p><p>The images could then be positioned so that the first image always appeared on the first page in the lower right. Then some predefined areas could be defined, e.g. top right and bottom left. The layout engine could then calculate how large each image would be and make sure that there were never so many images on each page that it would overlap. Then it could try to place the images evenly across the pages, and as close as possible to the text where they were defined. As long as the images are only very loosely bound to the text they appeared along, this would not be too difficult to calculate.</p><p>Such a solution would require considerable coding efforts, but it seems possible without major complications.</p><h2 id="findings">Findings</h2><h3 id="the-good">The good</h3><p>As the proof-of-concept shows, it is possible to create fairly good multi-column layouts today. They can be beautiful, work quite smoothly, and work pretty well on most screen sizes.</p><p>Since 2015, when I made the first version, swiping between pages have become a lot slicker. Back in 2015, I had to use fullPage.js to swipe between pages. The old javascript page swiper libraries animated the page flip after registering a full swipe. Thus, they reacted a bit late. In addition, they did not adjust the animation time to how fast users where swiping. The result was a second class user experience. After most browsers implemented <span class="allsmallcaps">CSS</span> Scroll Snap, swiping is now smooth and multi-column have become a first-class layout experience.</p><h3 id="the-bad">The bad</h3><p>The layout engine is a bit slow. It takes 1000 ms to render a page—2000 ms if the page is long. This issue is complicated by the fact that Chrome does not use bfcache (back-and-forward cache) on pages with javascript that manipulate the <span class="allsmallcaps">DOM</span>; the whole page needs to be re-rendered if a user clicks on a link and return back to the page. However, the rendering speed have improve noticeably since 2015 as browsers just-in-time compilers have become ever faster. The Chrome problem is common among web pages, and the page load time is still faster than many news sites. Ideally, I think it too slow, but since the rest of the web community think it’s an acceptable rendering time, I guess it is ok.</p><h3 id="the-potentially-problematic">The potentially problematic</h3><p>There are some potentially problematic sides under the hood</p><p>The FTColumnflow requirement that all element heights have to be a multiple of the line-height, makes it prone to bugs. It demands a lot from designers, especially when you expect FTColumnflow to correct for it. Small inconsistencies between browsers, like how heigh elements are rendered, can have dramatic consequences. Occasionally, I have seen FTColumnflow jump over a line on column breaks. I suspect this an artifact of overflow, and how FTColumnflow handles column and page breaks.</p><p>The complex layout can sometimes be problematic. In Safari the graphic card sometimes flickers the screen on page swipes; it seems it can’t handle the complex layout. Generally, I have also seen more a lot more strange behavior and inconstancies between browsers, than in normal projects. Sometimes it feels like I am pushing the limits of browser technology a bit too much.</p><p>None of these problems seems unfixable, but they indicate that multi-columns can be a bit risky to implement.</p><h2 id="conclusion">Conclusion</h2><p>So is it possible to create responsive multi-column layouts?</p><p>The proof-of-concept shows that it at least can be done.</p><p>The biggest problems in my solution, such as that FTColumnflow is incompatible with most <span class="allsmallcaps">CMS</span> systems, or that the responsive design is not perfect, can probably be solved, although it requires some engineering.</p><p>The worrisome news is that the complicated layout and inconsistencies between browsers are more prone to bugs. It’s not discouraging levels, but it makes it risky to use multi-columns, and you have to live with the fact that they probably need extra maintenance.</p><div class="copyrightnotice"> <span class="only-print">Source: <a href="https://www.jontingvold.no/articles/responsive-multicolumn-layout.html">https://www.jontingvold.no/articles/responsive-multicolumn-layout.html</a><br></span> &copy;2015&nbsp; Jon Tingvold, Norway. All rights reserved.<br> Last updated Jun 7, 2020</div></main></div></div></div></body><script>performance.mark('javascript:block');</script><style>#instantclick {display: none;}</style><script src="/assets/javascript/instantclick.min.js" data-no-instant></script> <script src="/assets/javascript/jquery.min.js" data-no-instant></script> <script src="/assets/javascript/bootstrap.min.js" data-no-instant></script> <script data-no-instant> function scrollIntoViewX(scrollingElement, elementTop, scrollerTop, scrollerBottom, evenIfVisible) { const offset = 100; /* px */ const animation_time = 150; /* ms */ const isVisible = (elementTop >= scrollerTop && elementTop <= (scrollerBottom - 100)); if (!isVisible || evenIfVisible) { $(scrollingElement).animate({ scrollTop: elementTop - offset }, animation_time); } } function scrollIntoView(scrollingElement, scrollToElement, evenIfVisible) { const elementTop = scrollToElement.offsetTop; const scrollerTop = scrollingElement.scrollTop; const scrollerBottom = scrollerTop + $(scrollingElement).innerHeight(); scrollIntoViewX(scrollingElement, elementTop, scrollerTop, scrollerBottom, evenIfVisible); } function scrollWindowIntoView(scrollToElement, evenIfVisible) { const elementTop = scrollToElement.offsetTop; const scrollerTop = window.scrollY; const scrollerBottom = scrollerTop + window.innerHeight; scrollIntoViewX('html, body', elementTop, scrollerTop, scrollerBottom, evenIfVisible); } function enhanceAnchorLinks() { $(document).ready(function() { $("#toc a[href^='#']").click(function (event) { const idWithHash = $(this).attr('href'); const scrollToElement = document.getElementById(idWithHash.substring(1)); scrollWindowIntoView(scrollToElement, true); event.stopPropagation(); return false; }); }); } InstantClick.on('change', () => { $('body').scrollspy({ target: '#toc', offset: 130 }); enhanceAnchorLinks(); }); /* DISABLED: BFCACHE AND SCROLL POSITION RESTORATION DOES NOT WORK WITH SCROLLABLE DIVS $('#toc').on('activate.bs.scrollspy', function (event) { scrollIntoView(document.querySelector("#toc .nav"), event.target, false); }); */ </script><style> @media screen and (max-width: 1000px) { img {box-shadow: none;} }</style><script src="/assets/javascript/lozad.min.js" data-no-instant></script><style> @media screen { .imagecontainer.lazyload-not-loaded img { opacity: 0; } .imagecontainer img { opacity:1; transition: opacity 0.15s linear } } /* .imagecontainer.makeblurry {overflow:hidden; } .imagecontainer.overflow-hidden img {} .imagecontainer.makeblurry img {filter: blur(15px);transform: scale(1.05);} .imagecontainer img {} .imagecontainer img {transition: filter 0.1s linear, transform 0.4s linear;}*/</style><script> const observer = lozad('.lazyload', { rootMargin: '200px', threshold: 0.1, loaded: function(el) { /*el.src = el.getAttribute('data-original'); /* Preper for zooming */ el.parentElement.classList.remove('lazyload-not-loaded'); } }); window.addEventListener("beforeprint", (event) => { let elements = document.querySelectorAll('.lazyload'); elements.forEach(element => {observer.triggerLoad(element);}); }); InstantClick.on('change', () => { observer.observe(); }); </script> <script src="/assets/javascript/zooming.min.js" data-no-instant></script> <script> /* https://github.com/kingdido999/zooming */ if (window.innerWidth > 1000) { var zooming = new Zooming({ enableGrab: false, bgOpacity: 1.0, bgColor: "rgb(255, 255, 255)", transitionDuration: 0.2, scaleBase: 0.8, onBeforeOpen: function() { imageContainers = document.querySelectorAll('figure.zoomable .imagecontainer'); imageContainers.forEach(imageContainer => {imageContainer.style.overflow = "visable"}); images = document.querySelectorAll('figure.zoomable img'); images.forEach(image => {image.src = ""}); } }).listen('img.zoomable, figure.zoomable img'); } </script> <script data-no-instant>InstantClick.init();</script> <script>performance.mark('javascript:unblock');</script><script type="text/javascript" data-no-instant> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','https://www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-9010257-2', 'auto'); ga('send', 'pageview'); // Track JS performance if (window.performance) { var timeSincePageLoad_ms = performance.now() var timeSincePageLoad_ms_int = Math.round(timeSincePageLoad_ms) ga('send', 'timing', 'JS Dependencies', 'load', timeSincePageLoad_ms_int); } // Track page views with InstantClick SinglePageApplication InstantClick.on('change', function() { ga('send', 'pageview', location.pathname + location.search); }); </script> <script> var redirectTime = performance.timing.redirectEnd - performance.timing.redirectStart; var dnsLookupTime = performance.timing.domainLookupEnd - performance.timing.domainLookupStart; var tcpConnectTime = performance.timing.connectEnd - performance.timing.connectStart; var connectTime = performance.timing.responseEnd - performance.timing.requestStart; var renderTime = performance.timing.domComplete - performance.timing.domLoading; var totalPageLoadTime = performance.timing.loadEventEnd - performance.timing.navigationStart; ga('send', 'timing', 'Redirect time', 'Redirect', redirectTime); ga('send', 'timing', 'DNS lookup time', 'unblock', dnsLookupTime); ga('send', 'timing', 'TCP connect time', 'unblock', tcpConnectTime); ga('send', 'timing', 'Rendering time', 'unblock', renderTime); ga('send', 'timing', 'Total page load time', 'unblock', totalPageLoadTime); if (performance.getEntriesByName("first-paint").length > 0) { const firstPaintTime = performance.getEntriesByName("first-paint")[0].startTime; ga('send', 'timing', 'First paint time', 'unblock', firstPaintTime); } if (performance.getEntriesByName("first-paint").length > 0) { const firstPaintTime = performance.getEntriesByName("first-paint")[0].startTime; ga('send', 'timing', 'First paint time', 'unblock', firstPaintTime); } if (performance.getEntriesByName("first-contentful-paint").length > 0) { const firstContentfulPaintTime = performance.getEntriesByName("first-contentful-paint")[0].startTime; ga('send', 'timing', 'First contentful paint time', 'unblock', firstContentfulPaintTime); } //ga('send', 'timing', 'CSS', 'start-block', performance.measure("css-rendering-time", 'css:block').startTime); ga('send', 'timing', 'CSS', 'blocked', performance.measure("css-rendering-time", 'css:block', 'css:unblock').duration); //ga('send', 'timing', 'Javascript', 'blocked', performance.measure("javascript-rendering-time", 'javascript:block').startTime); ga('send', 'timing', 'Javascript', 'blocked', performance.measure("javascript-rendering-time", 'javascript:block', 'javascript:unblock').duration); </script></html></h4><div> 2020, <span style="font-variant: all-small-caps; letter-spacing: -0.02em;">Mar</span>: <a href="/articles/hva-er-et-korona-liv-verdt.html" lang="nb-no">Hva er et korona-liv verdt? En økonomisk krise?</a> <span style="font-size:0.8em;color:#666;">(1744&nbsp;ord)</span></div><div> 2019, <span style="font-variant: all-small-caps; letter-spacing: -0.02em;">Nov</span>: <a href="/articles/test-of-lstm-for-hydrology.html" lang="en">Hydrological modeling with a simple LSTM network …</a> <span style="font-size:0.8em;color:#666;">(1900&nbsp;words)</span></div><div> 2018, <span style="font-variant: all-small-caps; letter-spacing: -0.02em;">Jun</span>: <a href="/articles/regulate-tech-and-set-markets-free.html" lang="en">Regulate tech and set markets free</a> <span style="font-size:0.8em;color:#666;">(1200&nbsp;words)</span></div><div> 2017, <span style="font-variant: all-small-caps; letter-spacing: -0.02em;">Jan</span>: <a href="/articles/three-equations.html" lang="en">Three formulas</a> <span style="font-size:0.8em;color:#666;">(30&nbsp;words)</span></div><div> 2015, <span style="font-variant: all-small-caps; letter-spacing: -0.02em;">Oct</span>: <a href="/articles/responsive-multicolumn-layout.html" lang="en">A responsive multi-column feasibility study</a> <span style="font-size:0.8em;color:#666;">(2400&nbsp;words)</span></div><div> 2010, <span style="font-variant: all-small-caps; letter-spacing: -0.02em;">Feb</span>: <a href="/articles/foelelsen-av-pudder.html" lang="nb-no">Følelsen av pudder</a> <span style="font-size:0.8em;color:#666;">(100&nbsp;ord)</span></div><div> 2009, <span style="font-variant: all-small-caps; letter-spacing: -0.02em;">Oct</span>: <a href="/articles/elvepadling.html" lang="nb-no">Elvepadling</a> <span style="font-size:0.8em;color:#666;">(300&nbsp;ord)</span></div><h4 style="margin-bottom:0.325em;">opinions<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width"><title>Regulate tech and set markets free (Jon Tingvold)</title><meta name="description" content="Zero marginal cost markets, like tech, won’t thrive without regulation"><link rel="preload" as="font" crossorigin href="/assets/style/default/fonts/Minion Pro/Minion Pro Regular.woff2"><link rel="preload" as="font" crossorigin href="/assets/style/default/fonts/Gill Sans/GillSans.woff2"><link rel="preload" as="font" crossorigin href="/assets/style/default/fonts/Minion Pro/Minion Pro Regular Italic.woff2"><link rel="preload" as="font" crossorigin href="/assets/style/default/fonts/Minion Pro/Minion Pro Semibold.woff2"> <script>performance.mark('css:block');</script><link rel="stylesheet" href="/assets/style/baseline.css?v=1.0.10"><link rel="stylesheet" href="/assets/style/default/style.css?v=1.0.5"><link rel="stylesheet" href="/assets/style/default/fonts/Gill Sans/gillsans.css?v=1.0.0"><link rel="stylesheet" href="/assets/style/default/fonts/Minion Pro/minionpro.css?v=1.0.0"><link rel="stylesheet" href="/assets/style/pygments-code-highlighter-github-theme.css?v=1.0.0"> <script>performance.mark('css:unblock');</script><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="shortcut icon" href="/favicon.ico"><meta name="msapplication-TileColor" content="#000000"><meta name="theme-color" content="#000000"><meta name="application-name" content="Jon Tingvold"><link rel="manifest" href="/site.webmanifest"><link rel="alternate" type="application/atom+xml" title="Jon Tingvold" href="/feed.atom.xml"><link rel="sitemap" type="application/xml" title="sitemap" href="/sitemap.xml" /></head><body><div id="body" class=" divide-paragraphs-by-idention"><div id="page"><nav id="breadcrumbs" class="hideprint"><div class="container"><div> <a href="/">jontingvold.no</a> <span class="divider">&nbsp;//&nbsp;</span> <a href="/articles/"> Articles</a> <span class="divider">&nbsp;//&nbsp;</span> Regulate tech and set markets free</div></div></nav><div id="pagepage"><main role="main" class="container"><div class="kicker">Opinion</div><h1>Regulate tech and set markets free</h1><div class="lead">Zero marginal cost markets, like tech, won’t thrive without regulation</div><div class="author-date"> <time datetime="2018-06-24T00:00:00+02:00">June 24, 2018</time> · 1200 words (4 min)</div><p>The market economy is supposed to set us free. Not only is it supposed to get firms to innovate and lower their prices through a Darwinistic process. It’s supposed to give us the freedom to choose our own products, who to trust and let businesses have alternatives when their partner bullies them. However, all of this only works when there is competition.</p><p>Instead, tech firms are creating monopolies in almost every industry. Amazon controls 50% of US online shopping, Google gets 95% of online searches, Uber wants to control taxi markets—Airbnb private lodging, Google and Apple (and Microsoft and Apple) have duopolies in mobile (and desktop) operating systems, and messaging and social media is impossible without using Facebook’s systems.</p><p>These platforms and their terms are hard to escape. Consumers can’t choose their messaging app of choice or who to trust with their data, Uber’s contractors can’t negotiate, youtubers must accept YouTube’s hard compression, i<span class="allsmallcaps">OS</span>-developers are banned from making competing products, and developers can’t fight the 30% cut Google, Apple and Amazon take of Google Play, App Store, and Alexa purchases.</p><p>They also bar technology progress. Most of us have an <span class="allsmallcaps">NFC</span>-chip which can emulate contactless «chip cards» in our phones, the same technology used in most wireless credit cards, access cards, public transportation cards, wireless keys, and biometric passports. Powered by induction it even works without battery. Yet, we still have wallets because Google and Apple refuse 3rd parties (and other payment providers) to use <em>our</em> <span class="allsmallcaps">NFC</span>-chips.</p><h4 id="innovating">Innovating?</h4><p>Many think tech is innovating, but these innovations are usually results of a desperate fear of not controlling the next platform. What happens when the power struggles are settled?</p><p>In many areas tech is hardly moving. After internets 30 years bank transfers still take days. Most online banks are a mess. We still use paper receipts and there is no international standard for e-invoices with makes bookkeeping tedious and tax control difficult. Email has not had an update for decades and is so insecure and unreliable (because of spam) that governmental organizations and banks refuse to use them for important documents.</p><p>Designers cry inside when they see documents from common word processors like Word and Google Docs. They use second class fonts which are harder to read and show little beauty. And they lack even basic typographic improvements which have been standard in all books for a century like proper justification of text and preventing orphans. The state of the web is not much better. It even lacks multi-columns which could have better filled today’s wide screens. Most documents worth reading are still published in <span class="allsmallcaps">PDF</span>s because there is no widely supported document standard that can adapt to the small screens of laptops, tablets, and phones.</p><p>For over 20 years tech-people have dreamed of a world with personal digital certificates. Fully supported this could have solved many of the problems we see today like electronic signing of documents, reliably verify who people are in email and eBay, and get rid of the security mess of having hundreds of accounts on the internet with the same password and usernames you can’t remember. Yet, we still print out documents, sign and scan them.</p><p>So why does the problems of tech seem to pile up? Why does not competitors enter to improve the tech giants mediocre products? The problems are many: From networking effects and governments absence at setting standards, but the biggest, and least talked about, is perhaps the problem of zero marginal costs.</p><h4 id="the-tragedy-of-zero-marginal-costs">The tragedy of zero marginal costs</h4><p>As Joseph Bertrand stated in 1883, prices tend to converge down to near marginal cost in competitive markets. For digital goods, the marginal cost is next to nothing. So for tech, economic forces push the price down to zero—where it is hard to make money. Wired’s then editor-in-chief Chris Anderson called it «the law of gravity online». As a result, most apps are free but have rather lousy quality. While you can spend hours finding a physical notepad with the right paper texture, it is hard to find even a good note taking app that can export notes.</p><figure class="zoomable"><div class="imagecontainer lazyload-not-loaded" style="padding-bottom: 44.88%; width:1484px;"> <img class="lazyload" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAAAkCAMAAAApfE1IAAACE1BMVEX//////v7v7e339vb9/fzz8vH5+Pfl5eXm5ub6+vr4+Pj09PT+/v7r6unm4+Lb2Nff3t3j4N/l4+Hl5OPZ2Nbx8O/v7u3p5uXl4uDm5eTb2dfo5uXs6ur9/f35+fnk5OTp6enf39/k4+Pc3Nzi4uLV1dXS0tLZ2dns7Ov29vXz8vLu7e3n5+fR0dHr6+vw8PD39/f8/Pzd29rp6Ojt7e3g3t3j4uHZ19Xk4uL19fXf3dzm5OPe3t7Nzc3Pz8/29fXu7ezOzs7m5eXf3d3t6+vn5ub7+/vr6ejj4+PW1tbc29v49/f5+fjv7+7Y2Njs7Ozv7+/a2djs6+r19PPe3Nr49/bX19fh4ODk4+Lx8PDY1tTr6uv29vbv7u75+Pjl5OTz8/Pu7u7i4uH08vL7+vrx8fHt7e7q6urw8O/Qz8/+/v3t7Oz39/bs7O3t7ez+/f38+/vq6ejq6Ofm5uXU09Pt7Ovr6urPzs7u7u3b29v4+fnR0NDT09Pr6+rU1NTj4uPz9PTy8fH6+vn4+Pno6Ojd3d3a2tre3d3x8vP9/v79/f7y8vLq6+vy8/P3+Pjn5+jDxMPz9fX8/f3t7u/h4eG9vb3Jycnd3dze3t3u7+/R09Tm6Onr7O3r6+zs7e7w8fHn6Ojg4ODv8fLx8fDx8vTh4uLl5ub09fX29/fi4+Tj5OXk5eXo6Onf4OHc3d7a29zg4OFJFskgAAAC80lEQVRIie2V+VfTQBDHR6s2bYIHKB7QJlABkdK0NKgVFEWt3BtRUbSVjYLFC/EWPEAt9aiIB+IN1gPv4080SZuSNqXJjz6f815md2e//ezMvt0twH/7a23OXBPAPKlnkr/5C2bXmgnJWyRnBXIWEUXkLFy0eElu3tJl+ctXrFxVUJg6b1MD7TRTRBSDYzVdUlq2JmuiVLwpX5s+UaGatdDOShfrBsqTDVVV5eWq163f4CvYWJ1bk5MRWLtpcyLT2QpVWV18B+Nm00xvkVPbqs+RrH4bWZMhvF2TIdDGgOSOPL82ujNfC2zgGg0RmzzQnJcaamkuTxm3xoFEG2UEiAD4Xe2qPYTde/amSljZO1FbhyGguKx3335TMtB5IP3ccLIngChhDQAPSnUEgt5DiXFXDk6XCPEMgbDwBjMUrxF3uFMeUke6NZKg7Bnw9TTa9YFH440t1NMuNhZNeqL1JoBAUMf0gVyipRjxBpjkrTwun+1Ai7JjrAK0nqBP6gJPJXt95Rid7j/jPHvu/IXCLidxkafSgFAv7qSeuZK97kuXy3xAJn6iOu7YowD9TDJImUmxEHtA4HscA+rrrQApPAieirpMa1rtChBYnIx6ixr9V65e87BM6fUhpAEOx5Vu/oYWePOW5ENyP5zM3G+zeBAxUusgI7cjtDUF2H8H31XG9zp70586t2UGCHRLItoaDRU7XG7NdbwPo+xopkJnzPJAVQqE+eQEzqQeyw6TgXI9jDIkzcrxRpnUD/WBjx5LPoQof8AFvICBCzvlNSozvHzwRB84LH4NaLzk6cSzcf65N4pJLuRoqh3pmBBIzPM4Dfji5avXb9DkpDDFvB1zcXy0z8Uhjp3iYorknfhhKuJCPBJYISiwXKvQK/Dv+XCsI4SKNAlo/0QkmwI/JdDy6h/0SjD08H4ci01/Gp6mBgE+Z5FxAodiESaqD/R9+frt+4+fv35nl+EwYj22IIlxNpVUgjWbQGWl9AAdG3eYjer/MfsDPruHGzFq8SMAAAAASUVORK5CYII=" data-srcset=" /post-assets-resized-80/zero-marginal-costs.png 80w, /post-assets-resized-730/zero-marginal-costs.png 730w, /post-assets-resized-1460/zero-marginal-costs.png 1460w, /post-assets-resized-1080/zero-marginal-costs.png 1080w, /post-assets/zero-marginal-costs.png 1484w" sizes="(min-width: 730px) 730px, 100vw" data-original="/post-assets-resized-1460/zero-marginal-costs.png" alt="" /></div></figure><p>While it might be true that you would spend a few dollars more for quality, it’s easier to get customers to spend $5 more if the alternative cost ​$30 than if it’s zero. So most users end up with the free version, pushing prices up for the quality version, possibly in an endless death spiral. In my home country Norway, an English–Norwegian dictionary used to cost affordably $30 (for life), now the digital version costs $50 per year because so many use meager alternatives like Google Translate.</p><p>The effect of zero marginal costs can be seen on all digitalized goods from books, maps, travel guides, dictionaries, fonts, scientific journals, and newspapers—all have seen a plunge in revenue and quality. While American newspapers had $67 billion in revenues in 2000, their digital part brings in only ​$4 billion today.</p><p>Since its hard to make money on software directly, software is used to gain power and firms find other revenue streams. Google made Android free to gain control of smartphones and protect its advertisement business. Apple sells hardware by beautiful software (at least in the Steve Jobs era) which locks consumers into its platform. Google gives email, docs, and spreadsheets away for free to gather information for advertisers. Facebook does the same with social apps. These strategies are hard to copy.</p><p>In the related hardware industry, which have significant marginal costs, we see little of the same problems. There is an endless variation of phones, cameras, and routers to fit every need. Competitors are often working together for standardization, and standards like <span class="allsmallcaps">5G</span> are evolving quickly. When Apple surprised everyone with its iPhone in 2007, competitors quickly caught up to prevent market control. This is markets working at their best.</p><p>There is an important lesson here: While market economies are usually self-regulating, zero marginal economies, like tech, are not efficient without regulation.</p><h4 id="the-remedies">The remedies</h4><p>The remedies should be clear. As social platforms and public marketplaces like Uber, Airbnb, app stores, ad exchanges—and to a certain degree Amazon—will never have real competitors, they should be regulated as public utilities: run by governmental companies, tendered to the most innovating firm with lowest prices or heavily regulated. After all, it’s how we ended up regulating other natural monopolies like railways, public transit and electric grids a century ago.</p><p>Software makers should be required to open their formats and protocols and let competing firms create alternative software. As a start, we should let people have their messaging app of choice—no matter what their friends are using. Only then can we drive innovating and let people choose which provider to trust their data.</p><p>Governments should take an active role in developing standards and force all everyone to adopt them. Only then can we improve email and banking where firms have no incentives to collaborate.</p><p>Lastly—and this is probably most controversial—governments should probably regulate prices of software. If we want quality, privacy and diversity we need to solve the race to the bottom and forgo free apps. The price does not need to be high—a minimum price of $1 from 1 billion people, or ​$1000 from 1 million businesses, will not be noticeable in anyone’s pockets. Yet, better software will boost economic growth.</p><p>Most importantly, we should embrace regulation. If we value personal liberty we should acknowledge that zero marginal markets, like tech, won’t thrive without it.</p><div class="copyrightnotice"> <span class="only-print">Source: <a href="https://www.jontingvold.no/articles/regulate-tech-and-set-markets-free.html">https://www.jontingvold.no/articles/regulate-tech-and-set-markets-free.html</a><br></span> &copy;2018&nbsp; Jon Tingvold, Norway. All rights reserved.<br> Last updated Jun 5, 2020</div></main></div></div></div></body><script>performance.mark('javascript:block');</script><style>#instantclick {display: none;}</style><script src="/assets/javascript/instantclick.min.js" data-no-instant></script> <script src="/assets/javascript/jquery.min.js" data-no-instant></script> <script src="/assets/javascript/bootstrap.min.js" data-no-instant></script> <script data-no-instant> function scrollIntoViewX(scrollingElement, elementTop, scrollerTop, scrollerBottom, evenIfVisible) { const offset = 100; /* px */ const animation_time = 150; /* ms */ const isVisible = (elementTop >= scrollerTop && elementTop <= (scrollerBottom - 100)); if (!isVisible || evenIfVisible) { $(scrollingElement).animate({ scrollTop: elementTop - offset }, animation_time); } } function scrollIntoView(scrollingElement, scrollToElement, evenIfVisible) { const elementTop = scrollToElement.offsetTop; const scrollerTop = scrollingElement.scrollTop; const scrollerBottom = scrollerTop + $(scrollingElement).innerHeight(); scrollIntoViewX(scrollingElement, elementTop, scrollerTop, scrollerBottom, evenIfVisible); } function scrollWindowIntoView(scrollToElement, evenIfVisible) { const elementTop = scrollToElement.offsetTop; const scrollerTop = window.scrollY; const scrollerBottom = scrollerTop + window.innerHeight; scrollIntoViewX('html, body', elementTop, scrollerTop, scrollerBottom, evenIfVisible); } function enhanceAnchorLinks() { $(document).ready(function() { $("#toc a[href^='#']").click(function (event) { const idWithHash = $(this).attr('href'); const scrollToElement = document.getElementById(idWithHash.substring(1)); scrollWindowIntoView(scrollToElement, true); event.stopPropagation(); return false; }); }); } InstantClick.on('change', () => { $('body').scrollspy({ target: '#toc', offset: 130 }); enhanceAnchorLinks(); }); /* DISABLED: BFCACHE AND SCROLL POSITION RESTORATION DOES NOT WORK WITH SCROLLABLE DIVS $('#toc').on('activate.bs.scrollspy', function (event) { scrollIntoView(document.querySelector("#toc .nav"), event.target, false); }); */ </script> <script src="/assets/javascript/lozad.min.js" data-no-instant></script><style> @media screen { .imagecontainer.lazyload-not-loaded img { opacity: 0; } .imagecontainer img { opacity:1; transition: opacity 0.15s linear } } /* .imagecontainer.makeblurry {overflow:hidden; } .imagecontainer.overflow-hidden img {} .imagecontainer.makeblurry img {filter: blur(15px);transform: scale(1.05);} .imagecontainer img {} .imagecontainer img {transition: filter 0.1s linear, transform 0.4s linear;}*/</style><script> const observer = lozad('.lazyload', { rootMargin: '200px', threshold: 0.1, loaded: function(el) { /*el.src = el.getAttribute('data-original'); /* Preper for zooming */ el.parentElement.classList.remove('lazyload-not-loaded'); } }); window.addEventListener("beforeprint", (event) => { let elements = document.querySelectorAll('.lazyload'); elements.forEach(element => {observer.triggerLoad(element);}); }); InstantClick.on('change', () => { observer.observe(); }); </script> <script src="/assets/javascript/zooming.min.js" data-no-instant></script> <script> /* https://github.com/kingdido999/zooming */ if (window.innerWidth > 1000) { var zooming = new Zooming({ enableGrab: false, bgOpacity: 1.0, bgColor: "rgb(255, 255, 255)", transitionDuration: 0.2, scaleBase: 0.8, onBeforeOpen: function() { imageContainers = document.querySelectorAll('figure.zoomable .imagecontainer'); imageContainers.forEach(imageContainer => {imageContainer.style.overflow = "visable"}); images = document.querySelectorAll('figure.zoomable img'); images.forEach(image => {image.src = ""}); } }).listen('img.zoomable, figure.zoomable img'); } </script> <script data-no-instant>InstantClick.init();</script> <script>performance.mark('javascript:unblock');</script><script type="text/javascript" data-no-instant> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','https://www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-9010257-2', 'auto'); ga('send', 'pageview'); // Track JS performance if (window.performance) { var timeSincePageLoad_ms = performance.now() var timeSincePageLoad_ms_int = Math.round(timeSincePageLoad_ms) ga('send', 'timing', 'JS Dependencies', 'load', timeSincePageLoad_ms_int); } // Track page views with InstantClick SinglePageApplication InstantClick.on('change', function() { ga('send', 'pageview', location.pathname + location.search); }); </script> <script> var redirectTime = performance.timing.redirectEnd - performance.timing.redirectStart; var dnsLookupTime = performance.timing.domainLookupEnd - performance.timing.domainLookupStart; var tcpConnectTime = performance.timing.connectEnd - performance.timing.connectStart; var connectTime = performance.timing.responseEnd - performance.timing.requestStart; var renderTime = performance.timing.domComplete - performance.timing.domLoading; var totalPageLoadTime = performance.timing.loadEventEnd - performance.timing.navigationStart; ga('send', 'timing', 'Redirect time', 'Redirect', redirectTime); ga('send', 'timing', 'DNS lookup time', 'unblock', dnsLookupTime); ga('send', 'timing', 'TCP connect time', 'unblock', tcpConnectTime); ga('send', 'timing', 'Rendering time', 'unblock', renderTime); ga('send', 'timing', 'Total page load time', 'unblock', totalPageLoadTime); if (performance.getEntriesByName("first-paint").length > 0) { const firstPaintTime = performance.getEntriesByName("first-paint")[0].startTime; ga('send', 'timing', 'First paint time', 'unblock', firstPaintTime); } if (performance.getEntriesByName("first-paint").length > 0) { const firstPaintTime = performance.getEntriesByName("first-paint")[0].startTime; ga('send', 'timing', 'First paint time', 'unblock', firstPaintTime); } if (performance.getEntriesByName("first-contentful-paint").length > 0) { const firstContentfulPaintTime = performance.getEntriesByName("first-contentful-paint")[0].startTime; ga('send', 'timing', 'First contentful paint time', 'unblock', firstContentfulPaintTime); } //ga('send', 'timing', 'CSS', 'start-block', performance.measure("css-rendering-time", 'css:block').startTime); ga('send', 'timing', 'CSS', 'blocked', performance.measure("css-rendering-time", 'css:block', 'css:unblock').duration); //ga('send', 'timing', 'Javascript', 'blocked', performance.measure("javascript-rendering-time", 'javascript:block').startTime); ga('send', 'timing', 'Javascript', 'blocked', performance.measure("javascript-rendering-time", 'javascript:block', 'javascript:unblock').duration); </script></html></h4><div> 2020, <span style="font-variant: all-small-caps; letter-spacing: -0.02em;">Mar</span>: <a href="/articles/hva-er-et-korona-liv-verdt.html" lang="nb-no">Hva er et korona-liv verdt? En økonomisk krise?</a> <span style="font-size:0.8em;color:#666;">(1744&nbsp;ord)</span></div><div> 2019, <span style="font-variant: all-small-caps; letter-spacing: -0.02em;">Nov</span>: <a href="/articles/test-of-lstm-for-hydrology.html" lang="en">Hydrological modeling with a simple LSTM network …</a> <span style="font-size:0.8em;color:#666;">(1900&nbsp;words)</span></div><div> 2018, <span style="font-variant: all-small-caps; letter-spacing: -0.02em;">Jun</span>: <a href="/articles/regulate-tech-and-set-markets-free.html" lang="en">Regulate tech and set markets free</a> <span style="font-size:0.8em;color:#666;">(1200&nbsp;words)</span></div><div> 2017, <span style="font-variant: all-small-caps; letter-spacing: -0.02em;">Jan</span>: <a href="/articles/three-equations.html" lang="en">Three formulas</a> <span style="font-size:0.8em;color:#666;">(30&nbsp;words)</span></div><div> 2015, <span style="font-variant: all-small-caps; letter-spacing: -0.02em;">Oct</span>: <a href="/articles/responsive-multicolumn-layout.html" lang="en">A responsive multi-column feasibility study</a> <span style="font-size:0.8em;color:#666;">(2400&nbsp;words)</span></div><div> 2010, <span style="font-variant: all-small-caps; letter-spacing: -0.02em;">Feb</span>: <a href="/articles/foelelsen-av-pudder.html" lang="nb-no">Følelsen av pudder</a> <span style="font-size:0.8em;color:#666;">(100&nbsp;ord)</span></div><div> 2009, <span style="font-variant: all-small-caps; letter-spacing: -0.02em;">Oct</span>: <a href="/articles/elvepadling.html" lang="nb-no">Elvepadling</a> <span style="font-size:0.8em;color:#666;">(300&nbsp;ord)</span></div><hr><p><a class="allsmallcaps" href="/feed.atom.xml" data-no-instant>RSS</a></p></main></main></div></div></div></body><script>performance.mark('javascript:block');</script><style>#instantclick {display: none;}</style><script src="/assets/javascript/instantclick.min.js" data-no-instant></script> <script src="/assets/javascript/jquery.min.js" data-no-instant></script> <script src="/assets/javascript/bootstrap.min.js" data-no-instant></script> <script data-no-instant> function scrollIntoViewX(scrollingElement, elementTop, scrollerTop, scrollerBottom, evenIfVisible) { const offset = 100; /* px */ const animation_time = 150; /* ms */ const isVisible = (elementTop >= scrollerTop && elementTop <= (scrollerBottom - 100)); if (!isVisible || evenIfVisible) { $(scrollingElement).animate({ scrollTop: elementTop - offset }, animation_time); } } function scrollIntoView(scrollingElement, scrollToElement, evenIfVisible) { const elementTop = scrollToElement.offsetTop; const scrollerTop = scrollingElement.scrollTop; const scrollerBottom = scrollerTop + $(scrollingElement).innerHeight(); scrollIntoViewX(scrollingElement, elementTop, scrollerTop, scrollerBottom, evenIfVisible); } function scrollWindowIntoView(scrollToElement, evenIfVisible) { const elementTop = scrollToElement.offsetTop; const scrollerTop = window.scrollY; const scrollerBottom = scrollerTop + window.innerHeight; scrollIntoViewX('html, body', elementTop, scrollerTop, scrollerBottom, evenIfVisible); } function enhanceAnchorLinks() { $(document).ready(function() { $("#toc a[href^='#']").click(function (event) { const idWithHash = $(this).attr('href'); const scrollToElement = document.getElementById(idWithHash.substring(1)); scrollWindowIntoView(scrollToElement, true); event.stopPropagation(); return false; }); }); } InstantClick.on('change', () => { $('body').scrollspy({ target: '#toc', offset: 130 }); enhanceAnchorLinks(); }); /* DISABLED: BFCACHE AND SCROLL POSITION RESTORATION DOES NOT WORK WITH SCROLLABLE DIVS $('#toc').on('activate.bs.scrollspy', function (event) { scrollIntoView(document.querySelector("#toc .nav"), event.target, false); }); */ </script> <script src="/assets/javascript/lozad.min.js" data-no-instant></script><style> @media screen { .imagecontainer.lazyload-not-loaded img { opacity: 0; } .imagecontainer img { opacity:1; transition: opacity 0.15s linear } } /* .imagecontainer.makeblurry {overflow:hidden; } .imagecontainer.overflow-hidden img {} .imagecontainer.makeblurry img {filter: blur(15px);transform: scale(1.05);} .imagecontainer img {} .imagecontainer img {transition: filter 0.1s linear, transform 0.4s linear;}*/</style><script> const observer = lozad('.lazyload', { rootMargin: '200px', threshold: 0.1, loaded: function(el) { /*el.src = el.getAttribute('data-original'); /* Preper for zooming */ el.parentElement.classList.remove('lazyload-not-loaded'); } }); window.addEventListener("beforeprint", (event) => { let elements = document.querySelectorAll('.lazyload'); elements.forEach(element => {observer.triggerLoad(element);}); }); InstantClick.on('change', () => { observer.observe(); }); </script> <script src="/assets/javascript/zooming.min.js" data-no-instant></script> <script> /* https://github.com/kingdido999/zooming */ if (window.innerWidth > 1000) { var zooming = new Zooming({ enableGrab: false, bgOpacity: 1.0, bgColor: "rgb(255, 255, 255)", transitionDuration: 0.2, scaleBase: 0.8, onBeforeOpen: function() { imageContainers = document.querySelectorAll('figure.zoomable .imagecontainer'); imageContainers.forEach(imageContainer => {imageContainer.style.overflow = "visable"}); images = document.querySelectorAll('figure.zoomable img'); images.forEach(image => {image.src = ""}); } }).listen('img.zoomable, figure.zoomable img'); } </script> <script data-no-instant>InstantClick.init();</script> <script>performance.mark('javascript:unblock');</script><script type="text/javascript" data-no-instant> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','https://www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-9010257-2', 'auto'); ga('send', 'pageview'); // Track JS performance if (window.performance) { var timeSincePageLoad_ms = performance.now() var timeSincePageLoad_ms_int = Math.round(timeSincePageLoad_ms) ga('send', 'timing', 'JS Dependencies', 'load', timeSincePageLoad_ms_int); } // Track page views with InstantClick SinglePageApplication InstantClick.on('change', function() { ga('send', 'pageview', location.pathname + location.search); }); </script> <script> var redirectTime = performance.timing.redirectEnd - performance.timing.redirectStart; var dnsLookupTime = performance.timing.domainLookupEnd - performance.timing.domainLookupStart; var tcpConnectTime = performance.timing.connectEnd - performance.timing.connectStart; var connectTime = performance.timing.responseEnd - performance.timing.requestStart; var renderTime = performance.timing.domComplete - performance.timing.domLoading; var totalPageLoadTime = performance.timing.loadEventEnd - performance.timing.navigationStart; ga('send', 'timing', 'Redirect time', 'Redirect', redirectTime); ga('send', 'timing', 'DNS lookup time', 'unblock', dnsLookupTime); ga('send', 'timing', 'TCP connect time', 'unblock', tcpConnectTime); ga('send', 'timing', 'Rendering time', 'unblock', renderTime); ga('send', 'timing', 'Total page load time', 'unblock', totalPageLoadTime); if (performance.getEntriesByName("first-paint").length > 0) { const firstPaintTime = performance.getEntriesByName("first-paint")[0].startTime; ga('send', 'timing', 'First paint time', 'unblock', firstPaintTime); } if (performance.getEntriesByName("first-paint").length > 0) { const firstPaintTime = performance.getEntriesByName("first-paint")[0].startTime; ga('send', 'timing', 'First paint time', 'unblock', firstPaintTime); } if (performance.getEntriesByName("first-contentful-paint").length > 0) { const firstContentfulPaintTime = performance.getEntriesByName("first-contentful-paint")[0].startTime; ga('send', 'timing', 'First contentful paint time', 'unblock', firstContentfulPaintTime); } //ga('send', 'timing', 'CSS', 'start-block', performance.measure("css-rendering-time", 'css:block').startTime); ga('send', 'timing', 'CSS', 'blocked', performance.measure("css-rendering-time", 'css:block', 'css:unblock').duration); //ga('send', 'timing', 'Javascript', 'blocked', performance.measure("javascript-rendering-time", 'javascript:block').startTime); ga('send', 'timing', 'Javascript', 'blocked', performance.measure("javascript-rendering-time", 'javascript:block', 'javascript:unblock').duration); </script></html>
